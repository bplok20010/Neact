{"version":3,"file":"neact.js","sources":["../src/NeactUtils.js","../src/support.js","../src/NeactCurrentOwner.js","../src/NeactNormalizeVNode.js","../src/NeactElement.js","../src/CallbackQueue.js","../src/NeactRefs.js","../src/processDOMEvents.js","../src/NeactUnmount.js","../src/NeactDOMUtils.js","../src/createNeactComponent.js","../src/processElement.js","../src/processDOMPropertyHooks.js","../src/hooks/constants.js","../src/hooks/processDOMStyle.js","../src/hooks/processDOMAttr.js","../src/processDOMProperty.js","../src/NeactMount.js","../src/patch.js","../src/NeactRender.js","../src/shallowEqual.js","../src/NeactComponent.js","../src/NeactClass.js","../src/NeactPureComponent.js","../src/Neact.js"],"sourcesContent":["'use strict';\r\n\r\nvar ArrayProto = Array.prototype;\r\nvar nativeForEach = ArrayProto.forEach;\r\nvar nativeMap = ArrayProto.map;\r\nvar nativeFilter = ArrayProto.filter;\r\n\r\nvar objToString = Object.prototype.toString;\r\n\r\nexport var emptyObject = {};\r\n\r\nexport var isArray = Array.isArray || function(s) {\r\n    return objToString.call(s) === '[object Array]';\r\n};\r\n\r\nexport function toArray(obj) {\r\n    return isArray(obj) ? obj : [obj];\r\n}\r\n\r\nexport function isUndefined(obj) {\r\n    return obj === undefined;\r\n}\r\n\r\nexport function isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\n\r\nexport function isString(obj) {\r\n    return typeof obj === 'string';\r\n}\r\n\r\n\r\nexport function isNumber(obj) {\r\n    return typeof obj === 'number';\r\n}\r\n\r\nexport function isTrue(obj) {\r\n    return obj === true;\r\n}\r\n\r\nexport function isNull(obj) {\r\n    return obj === null;\r\n}\r\n\r\nexport function isStringOrNumber(obj) {\r\n    return isString(obj) || isNumber(obj);\r\n}\r\n\r\nexport function isNullOrUndef(obj) {\r\n    return isUndefined(obj) || isNull(obj);\r\n}\r\n\r\nexport function isInvalid(obj) {\r\n    return isNull(obj) || obj === false || isTrue(obj) || isUndefined(obj);\r\n}\r\n\r\nexport function isFunction(obj) {\r\n    return typeof obj === 'function';\r\n}\r\n\r\nexport function isAttrAnEvent(attr) {\r\n    return attr[0] === 'o' && attr[1] === 'n' && attr.length > 3;\r\n}\r\n\r\nexport function isDefined(obj) {\r\n    return obj !== undefined;\r\n}\r\n\r\nexport function isObject(o) {\r\n    return typeof o === 'object';\r\n}\r\n\r\nexport function isDOM(obj) {\r\n    return obj && obj.nodeType === 1 &&\r\n        typeof(obj.nodeName) == 'string';\r\n}\r\n\r\nexport function throwError(message) {\r\n    if (!message) {\r\n        message = 'a runtime error occured!';\r\n    }\r\n    throw new Error(`Neact Error: ${ message }`);\r\n}\r\n\r\nexport function warning(msg) {\r\n    if (console) {\r\n        console.warn(msg);\r\n    }\r\n}\r\n\r\nexport const EMPTY_OBJ = {};\r\n\r\nexport function inherits(cls, base, proto) {\r\n    function F() {}\r\n    F.prototype = base.prototype;\r\n    cls.prototype = new F();\r\n\r\n    if (proto) {\r\n        for (var prop in proto) {\r\n            cls.prototype[prop] = proto[prop];\r\n        }\r\n    }\r\n\r\n    cls.constructor = cls;\r\n}\r\n\r\n\r\n/**\r\n * 数组或对象遍历\r\n * @param {Object|Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n */\r\nexport function each(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.forEach && obj.forEach === nativeForEach) {\r\n        obj.forEach(cb, context);\r\n    } else if (obj.length === +obj.length) {\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            cb.call(context, obj[i], i, obj);\r\n        }\r\n    } else {\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                cb.call(context, obj[key], key, obj);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 数组映射\r\n * @param {Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n * @return {Array}\r\n */\r\nexport function map(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.map && obj.map === nativeMap) {\r\n        return obj.map(cb, context);\r\n    } else {\r\n        var result = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            result.push(cb.call(context, obj[i], i, obj));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n/**\r\n * 数组过滤\r\n * @param {Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n * @return {Array}\r\n */\r\nexport function filter(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.filter && obj.filter === nativeFilter) {\r\n        return obj.filter(cb, context);\r\n    } else {\r\n        var result = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            if (cb.call(context, obj[i], i, obj)) {\r\n                result.push(obj[i]);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nexport function bind(func, context) {\r\n    return function() {\r\n        func.apply(context, arguments);\r\n    }\r\n}\r\n\r\nexport var flatten = function(input) {\r\n    var output = [],\r\n        idx = 0;\r\n    for (var i = 0, length = input && input.length; i < length; i++) {\r\n        var value = input[i];\r\n        if (isArray(value)) {\r\n            value = flatten(value);\r\n            var j = 0,\r\n                len = value.length;\r\n            output.length += len;\r\n            while (j < len) {\r\n                output[idx++] = value[j++];\r\n            }\r\n        } else {\r\n            output[idx++] = value;\r\n        }\r\n    }\r\n    return output;\r\n};\r\n\r\nexport function assign(target) {\r\n    if (Object.assign) {\r\n        return Object.assign.apply(Object, arguments);\r\n    }\r\n\r\n    if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    var output = Object(target);\r\n    for (var index = 1; index < arguments.length; index++) {\r\n        var source = arguments[index];\r\n        if (source !== undefined && source !== null) {\r\n            for (var nextKey in source) {\r\n                if (source.hasOwnProperty(nextKey)) {\r\n                    output[nextKey] = source[nextKey];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return output;\r\n};","'use strict';\r\nexport var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\r\n\r\nexport var canUseEventListeners = canUseDOM && !!(window.addEventListener || window.attachEvent);\r\n\r\nexport var ieVersion = canUseDOM && document && (function() {\r\n    var version = 3,\r\n        div = document.createElement('div'),\r\n        iElems = div.getElementsByTagName('i');\r\n\r\n    // Keep constructing conditional HTML blocks until we hit one that resolves to an empty fragment\r\n    while (\r\n        div.innerHTML = '<!--[if gt IE ' + (++version) + ']><i></i><![endif]-->',\r\n        iElems[0]\r\n    ) {}\r\n    return version > 4 ? version : undefined;\r\n}());\r\n\r\nexport var isIE = canUseDOM && !ieVersion;","'use strict';\r\n\r\nlet NeactCurrentOwner = {\r\n    current: null\r\n};\r\n\r\nexport default NeactCurrentOwner;","'use strict';\r\n\r\nimport {\r\n    isString,\r\n    isStringOrNumber,\r\n    isInvalid,\r\n    isArray,\r\n    isNull\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    createTextVNode,\r\n    isVNode,\r\n    isElementVNode,\r\n    isComponentVNode\r\n} from './NeactElement';\r\n\r\n\r\nexport function normalizeVNodes(nodes, parentVNode) {\r\n    let newNodes = [];\r\n\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        let n = nodes[i];\r\n        if (isInvalid(n)) { continue; }\r\n        if (isStringOrNumber(n)) {\r\n            n = createTextVNode(n);\r\n        }\r\n\r\n        n.parentVNode = parentVNode;\r\n\r\n        newNodes.push(n);\r\n    }\r\n\r\n    return newNodes.length > 0 ? newNodes : null;\r\n}\r\n\r\nfunction normalizeChildren(children, parentVNode) {\r\n    if (isArray(children)) {\r\n        return normalizeVNodes(children, parentVNode);\r\n    } else if (isStringOrNumber(children)) {\r\n        children = createTextVNode(children)\r\n    }\r\n    if (isVNode(children)) {\r\n        children.parentVNode = parentVNode;\r\n    }\r\n    return children;\r\n}\r\n\r\nexport function normalize(vNode) {\r\n    const isComponent = isComponentVNode(vNode);\r\n\r\n    if (!isInvalid(vNode.children)) {\r\n        vNode.children = normalizeChildren(vNode.children, isComponent ? null : vNode);\r\n    }\r\n\r\n    if (isComponent) {\r\n        if (!vNode.props) {\r\n            vNode.props = {};\r\n        }\r\n        vNode.props.children = vNode.children;\r\n        vNode.children = null;\r\n    }\r\n}","'use strict';\r\n\r\nimport {\r\n    isNull,\r\n    isArray,\r\n    isString,\r\n    isFunction,\r\n    isInvalid,\r\n    isObject,\r\n    isAttrAnEvent,\r\n    isNullOrUndef,\r\n    flatten,\r\n    assign,\r\n    throwError\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    ieVersion,\r\n    isIE\r\n} from './support';\r\n\r\nimport NeactCurrentOwner from './NeactCurrentOwner';\r\n\r\nimport {\r\n    normalize\r\n} from './NeactNormalizeVNode';\r\n\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\nexport function isVNode(VNode) {\r\n    return VNode && isObject(VNode) && VNode.$$isVNode;\r\n}\r\n\r\nexport var isValidElement = isVNode;\r\n\r\nexport function isSameVNode(vnode1, vnode2) {\r\n    var isSame = vnode1.key === vnode2.key && vnode1.type === vnode2.type;\r\n    if (isSame && isIE && ieVersion < 9 && vnode1.dom.tagName.toLowerCase() === 'input') {\r\n        isSame = vnode1.props.type === vnode2.props.type;\r\n    }\r\n    return isSame;\r\n}\r\n\r\nexport function isVoidVNode(vNode) {\r\n    return vNode.type === '#comment';\r\n}\r\n\r\nexport function isTextVNode(vNode) {\r\n    return vNode.type === '#text';\r\n}\r\n\r\nexport function isElementVNode(vNode) {\r\n    return isString(vNode.type) && vNode.type[0] !== '#';\r\n}\r\n\r\nexport function isComponentVNode(vNode) {\r\n    return !isString(vNode.type); // && isFunction(vNode.type)\r\n}\r\n\r\nexport function createVNode(\r\n    type,\r\n    props,\r\n    children,\r\n    events,\r\n    hooks,\r\n    ref,\r\n    key,\r\n    isSVG,\r\n    owner,\r\n    noNormalise = false\r\n) {\r\n    var vNode = {\r\n        $$isVNode: true,\r\n        type: type,\r\n        key: key === undefined ? null : key,\r\n        ref: ref === undefined ? null : ref,\r\n        props: props === undefined ? null : props,\r\n        isSVG: isSVG === undefined ? null : isSVG,\r\n        children: children === undefined ? null : children,\r\n        parentVNode: null,\r\n        events: events || null,\r\n        hooks: hooks || null,\r\n        dom: null,\r\n        _owner: owner || null\r\n    };\r\n\r\n    if (!noNormalise) {\r\n        normalize(vNode);\r\n    }\r\n\r\n    return vNode;\r\n}\r\n\r\nexport function createVoidVNode() {\r\n    return createVNode('#comment');\r\n}\r\n\r\nexport const emptyVNode = createVoidVNode();\r\n\r\nexport var createComment = createVoidVNode;\r\n\r\nexport function createTextVNode(text) {\r\n    return createVNode('#text', null, text, null, null, null, null, false, null, true);\r\n}\r\n\r\nexport var createTextNode = createTextVNode;\r\n\r\nexport function createElement(type, config, ..._children) {\r\n    if (isInvalid(type) || isObject(type)) {\r\n        throw new Error('Neact Error: createElement() type parameter cannot be undefined, null, false or true, It must be a string, class or function.');\r\n    }\r\n\r\n    let prop, children = flatten(_children),\r\n        props = {},\r\n        events = null,\r\n        hooks = null,\r\n        key = null,\r\n        ref = null,\r\n        isSVG = false;\r\n\r\n    if (children.length === 1) {\r\n        children = children[0];\r\n    } else if (children.length === 0) {\r\n        children = null;\r\n    }\r\n\r\n    if (!isNullOrUndef(config)) {\r\n        for (prop in config) {\r\n            //if (hasOwnProperty.call(config, prop)) {\r\n            if (prop === 'key') {\r\n                key = '' + config.key;\r\n            } else if (prop === 'ref') {\r\n                ref = config.ref;\r\n            } else if (prop === 'hooks') {\r\n                hooks = config.hooks;\r\n            } else if (isAttrAnEvent(prop) && isString(type)) {\r\n                if (!events) {\r\n                    events = {};\r\n                }\r\n                events[prop.toLowerCase()] = config[prop];\r\n            } else {\r\n                props[prop] = config[prop];\r\n            }\r\n            //}\r\n        }\r\n    }\r\n\r\n    //ComponentClass ComponentFunction\r\n    if (!isString(type)) {\r\n        if (type.defaultProps) {\r\n            let defaultProps = type.defaultProps;\r\n            for (prop in defaultProps) {\r\n                if (props[prop] === undefined) { // && hasOwnProperty.call(defaultProps, prop)\r\n                    props[prop] = defaultProps[prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!children && props.children) {\r\n        children = props.children;\r\n    }\r\n\r\n    delete props.children;\r\n\r\n    //props.children = children;\r\n\r\n    if (type && type[0] === 's' && type[1] === 'v' && type[2] === 'g') {\r\n        isSVG = true;\r\n    }\r\n\r\n    if (isString(type)) {\r\n        if (props.dangerouslySetInnerHTML && !isNullOrUndef(children)) {\r\n            throwError('Can only set one of `children` or `props.dangerouslySetInnerHTML`');\r\n        }\r\n    }\r\n\r\n    return createVNode(type, props, children, events, hooks, ref, key, isSVG, NeactCurrentOwner.current);\r\n}\r\n\r\nexport function cloneElement(element, config, ..._children) {\r\n    if (isTextVNode(element)) {\r\n        return createTextVNode(element.children);\r\n    }\r\n    if (isVoidVNode(element)) {\r\n        return createVoidVNode();\r\n    }\r\n    let prop, i, child, children = flatten(_children),\r\n        type = element.type,\r\n        props = assign({}, element.props);\r\n\r\n    if (children.length === 1) {\r\n        children = children[0];\r\n    } else if (children.length === 0) {\r\n        children = null;\r\n    }\r\n\r\n    var key = element.key;\r\n    var ref = element.ref;\r\n    var hooks = element.hooks;\r\n    var events = element.events;\r\n\r\n    var owner = element._owner;\r\n\r\n    if (!isNullOrUndef(config)) {\r\n        for (prop in config) {\r\n            // if (hasOwnProperty.call(config, prop)) {\r\n            if (prop === 'key') {\r\n                key = '' + config.key;\r\n            } else if (prop === 'ref') {\r\n                ref = '' + config.ref;\r\n            } else if (prop === 'hooks') {\r\n                hooks = config.hooks;\r\n            } else if (isAttrAnEvent(prop) && isString(type)) {\r\n                if (!events) {\r\n                    events = {};\r\n                }\r\n                events[prop.toLowerCase()] = config[prop];\r\n            } else {\r\n                props[prop] = config[prop];\r\n            }\r\n            //}\r\n        }\r\n    }\r\n\r\n    //ComponentClass ComponentFunction\r\n    if (!isString(type)) {\r\n        if (type.defaultProps) {\r\n            let defaultProps = type.defaultProps;\r\n            for (prop in defaultProps) {\r\n                if (props[prop] === undefined) { //&& hasOwnProperty.call(defaultProps, prop)\r\n                    props[prop] = defaultProps[prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (isNull(children)) {\r\n        children = isComponentVNode(element) ? element.props.children : element.children;\r\n    }\r\n\r\n    if (children) {\r\n        if (isArray(children)) {\r\n            for (i = 0; i < children.length; i++) {\r\n                child = children[i];\r\n                children[i] = child && isVNode(child) ? cloneElement(child) : child;\r\n            }\r\n        } else {\r\n            children = cloneElement(children);\r\n        }\r\n    }\r\n    //props.children = children;\r\n\r\n    return createVNode(type, props, children, events, hooks, ref, key, element.isSVG, NeactCurrentOwner.current);\r\n}","'use strict';\r\n\r\nexport default function CallbackQueue() {\r\n    this.listeners = [];\r\n}\r\nCallbackQueue.prototype.enqueue = function(callback) {\r\n    this.listeners.push(callback);\r\n};\r\n\r\nCallbackQueue.prototype.notifyAll = function() {\r\n    for (let i = 0; i < this.listeners.length; i++) {\r\n        this.listeners[i]();\r\n    }\r\n    this.listeners.length = 0;\r\n};","'use strict';\r\n\r\nexport function shouldUpdateRefs(lastVNode, nextVNode) {\r\n    const lastRef = lastVNode.ref;\r\n    const nextRef = nextVNode.ref;\r\n    const lastOwner = lastVNode._owner;\r\n    const nextOwner = nextVNode._owner;\r\n    return lastRef !== nextRef ||\r\n        typeof nextRef === 'string' && nextOwner !== lastOwner;\r\n}\r\n\r\nexport function detachRef(vNode) {\r\n    var ref = vNode.ref;\r\n    var owner = vNode._owner;\r\n\r\n    if (typeof ref === 'function') {\r\n        ref(null);\r\n    } else if (ref && owner) {\r\n        delete owner.refs[ref];\r\n    }\r\n}\r\n\r\nexport function attachRef(vNode) {\r\n    var ref = vNode.ref;\r\n    var owner = vNode._owner;\r\n    var target = vNode._instance || vNode.dom;\r\n    \r\n    if (typeof ref === 'function') {\r\n        ref(target);\r\n    } else if (ref && owner) {\r\n        owner.refs[ref] = target;\r\n    }\r\n}","'use strict';\r\nimport {\r\n    addEventListener,\r\n    removeEventListener\r\n} from './NeactDOMUtils';\r\n\r\nimport {\r\n    emptyVNode\r\n} from './NeactElement';\r\n\r\nimport {\r\n    isObject\r\n} from './NeactUtils';\r\n\r\nfunction ename(s) {\r\n    return s.replace('on', '');\r\n}\r\n\r\nfunction invokeHandler(handler, vnode, event) {\r\n    var el = vnode.dom;\r\n    if (typeof handler === \"function\") {\r\n        // call function handler\r\n        handler.call(el, event, vnode);\r\n    } else if (isObject(handler)) {\r\n        // call handler with arguments\r\n        if (typeof handler[0] === \"function\") {\r\n            // special case for single argument for performance\r\n            if (handler.length === 2) {\r\n                handler[0].call(el, handler[1], event, vnode);\r\n            } else {\r\n                var args = handler.slice(1);\r\n                args.push(event);\r\n                args.push(vnode);\r\n                handler[0].apply(el, args);\r\n            }\r\n        } else {\r\n            // call multiple handlers\r\n            for (var i = 0; i < handler.length; i++) {\r\n                invokeHandler(handler[i], vnode, event);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction handleEvent(event, vnode) {\r\n    var name = 'on' + event.type,\r\n        on = vnode.events;\r\n\r\n    // call event handler(s) if exists\r\n    if (on && on[name]) {\r\n        invokeHandler(on[name], vnode, event);\r\n    }\r\n}\r\n\r\nfunction createListener() {\r\n    function handler(e) {\r\n        e = e || event;\r\n        handleEvent(e, handler.vnode);\r\n    }\r\n    return handler;\r\n}\r\n\r\nexport function createDOMEvents(vNode) {\r\n    updateDOMEvents(emptyVNode, vNode);\r\n}\r\n\r\nexport function updateDOMEvents(oldVnode, vnode) {\r\n    var oldOn = oldVnode.events,\r\n        oldListener = oldVnode._listener,\r\n        oldElm = oldVnode.dom,\r\n        on = vnode && vnode.events,\r\n        elm = vnode && vnode.dom,\r\n        name;\r\n\r\n    // optimization for reused immutable handlers\r\n    if (oldOn === on) {\r\n        return;\r\n    }\r\n\r\n    // remove existing listeners which no longer used\r\n    if (oldOn && oldListener) {\r\n        // if element changed or deleted we remove all existing listeners unconditionally\r\n        if (!on) {\r\n            for (name in oldOn) {\r\n                // remove listener if element was changed or existing listeners removed\r\n                removeEventListener(oldElm, ename(name), oldListener);\r\n            }\r\n        } else {\r\n            for (name in oldOn) {\r\n                // remove listener if existing listener removed\r\n                if (!on[name]) {\r\n                    removeEventListener(oldElm, ename(name), oldListener);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // add new listeners which has not already attached\r\n    if (on) {\r\n        // reuse existing listener or create new\r\n        var listener = vnode._listener = oldVnode._listener || createListener();\r\n        // update vnode for listener\r\n        listener.vnode = vnode;\r\n\r\n        // if element changed or added we add all needed listeners unconditionally\r\n        if (!oldOn) {\r\n            for (name in on) {\r\n                // add listener if element was changed or new listeners added\r\n                addEventListener(elm, ename(name), listener);\r\n            }\r\n        } else {\r\n            for (name in on) {\r\n                // add listener if new listener added\r\n                if (!oldOn[name]) {\r\n                    addEventListener(elm, ename(name), listener);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function destroyDOMEvents(vNode) {\r\n    updateDOMEvents(vNode, emptyVNode);\r\n}","'use strict';\r\nimport {\r\n    isVNode,\r\n    isElementVNode,\r\n    isTextVNode,\r\n    isComponentVNode,\r\n    isVoidVNode\r\n} from './NeactElement';\r\n\r\nimport {\r\n    isNull,\r\n    isNullOrUndef,\r\n    isInvalid,\r\n    isArray,\r\n    isObject,\r\n    isStatefulComponent\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    detachRef\r\n} from './NeactRefs';\r\n\r\nimport {\r\n    removeChild\r\n} from './NeactDOMUtils';\r\n\r\nimport {\r\n    destroyDOMEvents\r\n} from './processDOMEvents';\r\n\r\nimport CallbackQueue from './CallbackQueue';\r\n\r\nfunction unmountVoidOrText(vNode, parentDom) {\r\n    if (parentDom) {\r\n        removeChild(parentDom, vNode.dom);\r\n    }\r\n}\r\n\r\nfunction unmountChildren(children, callback) {\r\n    if (isArray(children)) {\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n\r\n            if (!isInvalid(child) && isVNode(child)) {\r\n                unmount(child, null, callback);\r\n            }\r\n        }\r\n    } else if (isVNode(children)) {\r\n        unmount(children, null, callback);\r\n    }\r\n}\r\n\r\nexport function unmountElement(vNode, parentDom, callback) {\r\n    const dom = vNode.dom;\r\n    const events = vNode.events;\r\n    const hooks = vNode.hooks || {};\r\n    const children = vNode.children;\r\n\r\n    if (!isNull(vNode.ref)) {\r\n        detachRef(vNode);\r\n    }\r\n\r\n    destroyDOMEvents(vNode);\r\n\r\n    if (parentDom) {\r\n        removeChild(parentDom, dom);\r\n    }\r\n\r\n    if (!isNullOrUndef(children)) {\r\n        unmountChildren(children, callback);\r\n    }\r\n\r\n    if (hooks.destroy) {\r\n        hooks.destroy(vNode);\r\n    }\r\n\r\n}\r\n\r\nexport function unmountComponent(vNode, parentDom, callback) {\r\n    const inst = vNode._instance;\r\n    const isClass = isStatefulComponent(vNode.type);\r\n    const children = vNode.children;\r\n    const props = vNode.props;\r\n    const hooks = vNode.hooks || {};\r\n    const dom = vNode.dom;\r\n\r\n    if (parentDom) {\r\n        removeChild(parentDom, vNode.dom);\r\n    }\r\n\r\n    if (isClass) {\r\n        if (!inst._unmounted) {\r\n            inst._ignoreSetState = true;\r\n            //TODO: beforeUnmount\r\n            if (inst.componentWillUnmount) {\r\n                inst.componentWillUnmount();\r\n            }\r\n\r\n            if (!isNull(vNode.ref)) {\r\n                detachRef(vNode);\r\n            }\r\n\r\n            unmount(children, null, callback);\r\n\r\n            inst._unmounted = true;\r\n            inst._ignoreSetState = false;\r\n           \r\n            if (inst.componentDidUnmount) {inst.componentDidUnmount();}\r\n        }\r\n    } else {\r\n        if (!isNullOrUndef(props.onComponentWillUnmount)) {\r\n            props.onComponentWillUnmount(vNode);\r\n        }\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            detachRef(vNode);\r\n        }\r\n\r\n        unmount(children, null, callback);\r\n\r\n        if (!isNullOrUndef(props.onComponentDidUnmount)) {\r\n            props.onComponentDidUnmount(vNode);\r\n        }\r\n    }\r\n\r\n    if (hooks.destroy) {\r\n        hooks.destroy(vNode);\r\n    }\r\n}\r\n\r\nexport function unmount(vNode, parentDom, callback) {\r\n    var isUndefCallbacks = isNullOrUndef(callback);\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (isElementVNode(vNode)) {\r\n        unmountElement(vNode, parentDom, callback);\r\n    } else if (isVoidVNode(vNode) || isTextVNode(vNode)) {\r\n        unmountVoidOrText(vNode, parentDom);\r\n    } else if (isComponentVNode(vNode)) {\r\n        unmountComponent(vNode, parentDom, callback);\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n}","'use strict';\r\nimport { unmount } from './NeactUnmount';\r\nimport { mount } from './NeactMount';\r\n\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nexport function appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\n\r\nexport function insertBefore(parentNode, newNode, referenceNode) {\r\n    parentNode.insertBefore(newNode, referenceNode);\r\n}\r\n\r\nexport function nextSibling(node) {\r\n    return node.nextSibling;\r\n}\r\n\r\nexport function removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\n\r\nexport function documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    } else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\n\r\nexport function setTextContent(node, text) {\r\n    if (node.nodeType === 3) {\r\n        node.data = text;\r\n    } else {\r\n        if ('textContent' in node) {\r\n            node.textContent = text;\r\n        } else {\r\n            node.innerText = text;\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateTextContent(dom, text) {\r\n    dom.firstChild.nodeValue = text;\r\n}\r\n\r\nexport function replaceWithNewNode(lastNode, nextNode, parentDom, callback, context, isSVG) {\r\n    unmount(lastNode, null);\r\n    const dom = mount(nextNode, null, callback, context, isSVG);\r\n\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\n\r\nexport function replaceChild(parentDom, nextDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(nextDom, lastDom);\r\n}\r\n\r\nexport function addEventListener(node, name, fn) {\r\n    if (typeof node.addEventListener == \"function\") {\r\n        node.addEventListener(name, fn, false);\r\n    } else if (typeof node.attachEvent != \"undefined\") {\r\n        var attachEventName = \"on\" + name;\r\n        node.attachEvent(attachEventName, fn);\r\n    }\r\n}\r\n\r\nexport function removeEventListener(node, name, fn) {\r\n    if (typeof node.removeEventListener == \"function\") {\r\n        node.removeEventListener(name, fn, false);\r\n    } else if (typeof node.detachEvent != \"undefined\") {\r\n        var attachEventName = \"on\" + name;\r\n        node.detachEvent(attachEventName, fn);\r\n    }\r\n}","'use strict';\r\n\r\nimport {\r\n    isNullOrUndef,\r\n    isUndefined,\r\n    emptyObject,\r\n    assign\r\n} from './NeactUtils';\r\n\r\nexport default function createNeactComponent(vNode, context, isSVG) {\r\n    const type = vNode.type;\r\n    const props = vNode.props || {};\r\n    const ref = vNode.ref;\r\n\r\n    if (isUndefined(context)) {\r\n        context = {};\r\n    }\r\n\r\n    const inst = new type(props, context);\r\n\r\n    inst.props = props;\r\n    inst.context = context;\r\n    inst.refs = emptyObject;\r\n\r\n    var initialState = inst.state;\r\n    if (initialState === undefined) {\r\n        inst.state = initialState = null;\r\n    }\r\n\r\n    inst._unmounted = false;\r\n    inst._isSVG = isSVG;\r\n\r\n    const childContext = inst.getChildContext();\r\n\r\n    if (!isNullOrUndef(childContext)) {\r\n        inst._childContext = assign({}, context, childContext);\r\n    } else {\r\n        inst._childContext = context;\r\n    }\r\n\r\n    return inst;\r\n}","'use strict';\r\n\r\nexport default function processElement(vNode, dom) {\r\n\r\n}","'use strict';\r\nlet processDOMPropertyHooks = {\r\n\r\n};\r\nexport default processDOMPropertyHooks;","'use strict';\r\n\r\nimport {\r\n    canUseDOM\r\n} from '../support';\r\n\r\nfunction constructDefaults(string, object, value) {\r\n    var r = string.split(',');\r\n    for (let i = 0; i < r.length; i++) {\r\n        object[r[i]] = value;\r\n    }\r\n}\r\n\r\nexport const xlinkNS = 'http://www.w3.org/1999/xlink';\r\nexport const xmlNS = 'http://www.w3.org/XML/1998/namespace';\r\nexport const svgNS = 'http://www.w3.org/2000/svg';\r\nexport const strictProps = {};\r\nexport const booleanProps = {};\r\nexport const namespaces = {};\r\nexport const isUnitlessNumber = {};\r\nexport const skipProps = {};\r\nexport const dehyphenProps = {\r\n    acceptCharset: 'accept-charset',\r\n    httpEquiv: 'http-equiv'\r\n};\r\nexport const probablyKebabProps = /^(accentH|arabicF|capH|font[FSVW]|glyph[NO]|horiz[AO]|panose1|renderingI|strikethrough[PT]|underline[PT]|v[AHIM]|vert[AO]|xH|alignmentB|baselineS|clip[PR]|color[IPR]|dominantB|enableB|fill[OR]|flood[COF]|imageR|letterS|lightingC|marker[EMS]|pointerE|shapeR|stop[CO]|stroke[DLMOW]|text[ADR]|unicodeB|wordS|writingM).*/;\r\n\r\nexport function kebabize(str, smallLetter, largeLetter) {\r\n    return `${smallLetter}-${largeLetter.toLowerCase()}`;\r\n}\r\n\r\nconstructDefaults('xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type', namespaces, xlinkNS);\r\nconstructDefaults('xml:base,xml:lang,xml:space', namespaces, xmlNS);\r\nconstructDefaults('volume,defaultValue,value', strictProps, true);\r\nconstructDefaults('children,ref,key', skipProps, true);\r\n\r\nconstructDefaults('muted,scoped,loop,open,checked,multiple,defaultChecked,selected,default,capture,disabled,readOnly,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate', booleanProps, true);\r\n\r\nconstructDefaults('animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,', isUnitlessNumber, true);\r\n\r\nlet hasShorthandPropertyBug = false;\r\nlet styleFloatAccessor = 'cssFloat';\r\n\r\nif (canUseDOM) {\r\n    let tempStyle = document.createElement('div').style;\r\n    try {\r\n        // IE8 throws \"Invalid argument.\" if resetting shorthand style properties.\r\n        tempStyle.font = '';\r\n    } catch (e) {\r\n        hasShorthandPropertyBug = true;\r\n    }\r\n    // IE8 only supports accessing cssFloat (standard) as styleFloat\r\n    if (document.documentElement.style.cssFloat === undefined) {\r\n        styleFloatAccessor = 'styleFloat';\r\n    }\r\n}\r\nexport {\r\n    hasShorthandPropertyBug,\r\n    styleFloatAccessor\r\n};\r\n\r\n\r\n/**\r\n * Most style properties can be unset by doing .style[prop] = '' but IE8\r\n * doesn't like doing that with shorthand properties so for the properties that\r\n * IE8 breaks on, which are listed here, we instead unset each of the\r\n * individual properties. See http://bugs.jquery.com/ticket/12385.\r\n * The 4-value 'clock' properties like margin, padding, border-width seem to\r\n * behave without any problems. Curiously, list-style works too without any\r\n * special prodding.\r\n */\r\nexport const shorthandPropertyExpansions = {\r\n    background: {\r\n        backgroundAttachment: true,\r\n        backgroundColor: true,\r\n        backgroundImage: true,\r\n        backgroundPositionX: true,\r\n        backgroundPositionY: true,\r\n        backgroundRepeat: true\r\n    },\r\n    backgroundPosition: {\r\n        backgroundPositionX: true,\r\n        backgroundPositionY: true\r\n    },\r\n    border: {\r\n        borderWidth: true,\r\n        borderStyle: true,\r\n        borderColor: true\r\n    },\r\n    borderBottom: {\r\n        borderBottomWidth: true,\r\n        borderBottomStyle: true,\r\n        borderBottomColor: true\r\n    },\r\n    borderLeft: {\r\n        borderLeftWidth: true,\r\n        borderLeftStyle: true,\r\n        borderLeftColor: true\r\n    },\r\n    borderRight: {\r\n        borderRightWidth: true,\r\n        borderRightStyle: true,\r\n        borderRightColor: true\r\n    },\r\n    borderTop: {\r\n        borderTopWidth: true,\r\n        borderTopStyle: true,\r\n        borderTopColor: true\r\n    },\r\n    font: {\r\n        fontStyle: true,\r\n        fontVariant: true,\r\n        fontWeight: true,\r\n        fontSize: true,\r\n        lineHeight: true,\r\n        fontFamily: true\r\n    },\r\n    outline: {\r\n        outlineWidth: true,\r\n        outlineStyle: true,\r\n        outlineColor: true\r\n    }\r\n};","'use strict';\r\nimport {\r\n    isNullOrUndef,\r\n    isString,\r\n    isNumber,\r\n    emptyObject\r\n} from '../NeactUtils';\r\n\r\nimport {\r\n    isUnitlessNumber,\r\n    styleFloatAccessor,\r\n    hasShorthandPropertyBug,\r\n    shorthandPropertyExpansions\r\n} from './constants';\r\n\r\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\r\nvar nextFrame = function(fn) { raf(function() { raf(fn); }); };\r\n\r\nfunction setNextFrame(obj, prop, val) {\r\n    nextFrame(function() { obj[prop] = val; });\r\n}\r\n\r\nexport default function(lastValue, nextValue, prop, isSVG, dom, vNode) {\r\n    if (lastValue === nextValue) { return; }\r\n    if (isString(nextValue)) {\r\n        dom.style.cssText = nextValue;\r\n        return;\r\n    }\r\n    if (isString(lastValue)) {\r\n        dom.style.cssText = '';\r\n        lastValue = {};\r\n    }\r\n\r\n    var cur, name, elm = dom,\r\n        domStyle = dom.style,\r\n        oldStyle = lastValue,\r\n        style = nextValue;\r\n\r\n    if (!oldStyle && !style) { return; }\r\n    oldStyle = oldStyle || emptyObject;\r\n    style = style || emptyObject;\r\n    var oldHasDel = 'delayed' in oldStyle;\r\n\r\n    for (name in oldStyle) {\r\n        if (!style[name]) {\r\n            let expansion = hasShorthandPropertyBug && shorthandPropertyExpansions[name];\r\n            if (expansion) {\r\n                // Shorthand property that IE8 won't like unsetting, so unset each\r\n                // component to placate it\r\n                for (let individualStyleName in expansion) {\r\n                    domStyle[individualStyleName] = '';\r\n                }\r\n            } else {\r\n                domStyle[name] = '';\r\n            }\r\n        }\r\n    }\r\n    for (name in style) {\r\n        cur = dangerousStyleValue(name, style[name]);\r\n        if (name === 'float' || name === 'cssFloat') {\r\n            name = styleFloatAccessor;\r\n        }\r\n        if (name === 'delayed') {\r\n            for (name in style.delayed) {\r\n                cur = style.delayed[name];\r\n                if (!oldHasDel || cur !== oldStyle.delayed[name]) {\r\n                    setNextFrame(domStyle, name, cur);\r\n                }\r\n            }\r\n        } else if (cur !== oldStyle[name]) {\r\n            domStyle[name] = cur;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction dangerousStyleValue(name, value) {\r\n    var isEmpty = value == null || typeof value === 'boolean' || value === '';\r\n    if (isEmpty) {\r\n        return '';\r\n    }\r\n\r\n    var isNonNumeric = isNaN(value);\r\n    if (isNonNumeric || value === 0 || isUnitlessNumber[name]) {\r\n        return '' + value; // cast to string\r\n    }\r\n\r\n    if (typeof value === 'string') {\r\n        value = value.trim();\r\n    }\r\n    return value + 'px';\r\n}","'use strict';\r\nimport {\r\n    isNullOrUndef\r\n} from '../NeactUtils';\r\n\r\nimport {\r\n    strictProps,\r\n    booleanProps,\r\n    namespaces,\r\n    skipProps,\r\n    probablyKebabProps,\r\n    dehyphenProps,\r\n    kebabize\r\n} from './constants';\r\n\r\nexport default function(lastValue, nextValue, prop, isSVG, dom, vNode) {\r\n    if (lastValue === nextValue) { return; }\r\n    if (skipProps[prop]) {\r\n        return;\r\n    }\r\n    if (booleanProps[prop]) {\r\n        dom[prop] = nextValue ? true : false;\r\n    } else if (strictProps[prop]) {\r\n        const value = isNullOrUndef(nextValue) ? '' : nextValue;\r\n\r\n        if (dom[prop] !== value) {\r\n            dom[prop] = value;\r\n        }\r\n    } else {\r\n        if (isNullOrUndef(nextValue) && prop!=='dangerouslySetInnerHTML') {\r\n            dom.removeAttribute(prop);\r\n        } else if (prop === 'htmlFor') {\r\n            dom.setAttribute('for', nextValue);\r\n        } else if (prop === 'className') {\r\n            if (isSVG) {\r\n                dom.setAttribute('class', nextValue);\r\n            } else {\r\n                dom.className = nextValue;\r\n            }\r\n        } else if (prop === 'dangerouslySetInnerHTML') {\r\n            const lastHtml = lastValue && lastValue.__html;\r\n            const nextHtml = nextValue && nextValue.__html;\r\n\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        } else {\r\n            let dehyphenProp;\r\n            if (dehyphenProps[prop]) {\r\n                dehyphenProp = dehyphenProps[prop];\r\n            } else if (isSVG && prop.match(probablyKebabProps)) {\r\n                dehyphenProp = prop.replace(/([a-z])([A-Z]|1)/g, kebabize);\r\n                dehyphenProps[prop] = dehyphenProp;\r\n            } else {\r\n                dehyphenProp = prop;\r\n            }\r\n            const ns = namespaces[prop];\r\n\r\n            if (ns) {\r\n                dom.setAttributeNS(ns, dehyphenProp, nextValue);\r\n            } else {\r\n                dom.setAttribute(dehyphenProp, nextValue);\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    addEventListener,\r\n    removeEventListener\r\n} from './NeactDOMUtils';\r\n\r\nimport {\r\n    isUndefined,\r\n    isNullOrUndef,\r\n    isFunction,\r\n    emptyObject,\r\n    assign\r\n} from './NeactUtils';\r\n\r\nimport processDOMPropertyHooks from './processDOMPropertyHooks';\r\n\r\nimport processDOMStyle from './hooks/processDOMStyle';\r\nimport processDOMAttr from './hooks/processDOMAttr';\r\n\r\nconst propertyHooks = assign({\r\n    style: processDOMStyle,\r\n    __default__: processDOMAttr\r\n}, processDOMPropertyHooks);\r\n\r\nexport function createDOMProperty(props, isSVG, vNode) {\r\n    updateDOMProperty(null, props, isSVG, vNode);\r\n}\r\n\r\nexport function updateDOMProperty(lastProps, nextProps, isSVG, vNode) {\r\n    if (lastProps === nextProps) {\r\n        return;\r\n    }\r\n\r\n    const dom = vNode.dom;\r\n\r\n    lastProps = lastProps || emptyObject;\r\n    nextProps = nextProps || emptyObject;\r\n\r\n    if (nextProps !== emptyObject) {\r\n        for (let prop in nextProps) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            const nextValue = isNullOrUndef(nextProps[prop]) ? null : nextProps[prop];\r\n            const lastValue = isNullOrUndef(lastProps[prop]) ? null : lastProps[prop];\r\n            const hook = propertyHooks[prop] ? prop : '__default__';\r\n            propertyHooks[hook](lastValue, nextValue, prop, isSVG, dom, vNode);\r\n        }\r\n    }\r\n    if (lastProps !== emptyObject) {\r\n        for (let prop in lastProps) {\r\n            if (isNullOrUndef(nextProps[prop])) {\r\n                const lastValue = isNullOrUndef(lastProps[prop]) ? null : lastProps[prop];\r\n                const hook = propertyHooks[prop] ? prop : '__default__';\r\n                propertyHooks[hook](lastValue, null, prop, isSVG, dom, vNode);\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    isVNode,\r\n    isElementVNode,\r\n    isTextVNode,\r\n    isComponentVNode,\r\n    isVoidVNode,\r\n    cloneElement,\r\n    createVoidVNode,\r\n    createTextVNode\r\n} from './NeactElement';\r\n\r\nimport CallbackQueue from './CallbackQueue';\r\n\r\nimport NeactCurrentOwner from './NeactCurrentOwner';\r\n\r\nimport {\r\n    isString,\r\n    isNull,\r\n    isStringOrNumber,\r\n    isArray,\r\n    isInvalid,\r\n    isUndefined,\r\n    isStatefulComponent,\r\n    isNullOrUndef,\r\n    emptyObject,\r\n    throwError\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    documentCreateElement,\r\n    appendChild\r\n} from './NeactDOMUtils';\r\n\r\nimport {\r\n    attachRef\r\n} from './NeactRefs';\r\n\r\nimport createNeactComponent from './createNeactComponent';\r\n\r\nimport processElement from './processElement';\r\n\r\nimport {\r\n    createDOMProperty\r\n} from './processDOMProperty';\r\n\r\nimport {\r\n    createDOMEvents\r\n} from './processDOMEvents';\r\n\r\nexport function mount(vNode, parentDom, callback, context, isSVG) {\r\n    const isUndefCallbacks = isNullOrUndef(callback);\r\n    let r;\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (isElementVNode(vNode)) {\r\n        r = mountElement(vNode, parentDom, callback, context, isSVG);\r\n    } else if (isTextVNode(vNode)) {\r\n        r = mountText(vNode, parentDom);\r\n    } else if (isComponentVNode(vNode)) {\r\n        r = mountComponent(vNode, parentDom, callback, context, isSVG);\r\n    } else if (isVoidVNode(vNode)) {\r\n        r = mountVoid(vNode, parentDom);\r\n    } else {\r\n        throwError('mount() expects a valid VNode, instead it received an object with the type \"' + typeof vNode + '\".');\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n    return r;\r\n}\r\n\r\nexport function mountText(vNode, parentDom) {\r\n    const dom = document.createTextNode(vNode.children);\r\n\r\n    vNode.dom = dom;\r\n    if (parentDom) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountVoid(vNode, parentDom) {\r\n    const dom = document.createComment('emptyNode');\r\n\r\n    vNode.dom = dom;\r\n    if (parentDom) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountElement(vNode, parentDom, callback, context, isSVG) {\r\n    const tag = vNode.type;\r\n\r\n    if (!isSVG) {\r\n        isSVG = vNode.isSVG;\r\n    }\r\n\r\n    const dom = documentCreateElement(tag, isSVG);\r\n    const children = vNode.children;\r\n    const props = vNode.props;\r\n    const events = vNode.events;\r\n    const hooks = vNode.hooks || {};\r\n\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n\r\n    vNode.dom = dom;\r\n\r\n    if (!isNullOrUndef(hooks.beforeCreate)) {\r\n        hooks.beforeCreate(vNode);\r\n    }\r\n\r\n    if (!isNull(children)) {\r\n        if (isArray(children)) {\r\n            mountArrayChildren(children, dom, callback, context, isSVG);\r\n        } else if (isVNode(children)) {\r\n            mount(children, dom, callback, context, isSVG);\r\n        }\r\n    }\r\n    \r\n    processElement(dom, vNode);\r\n\r\n    createDOMProperty(props, isSVG, vNode);\r\n    createDOMEvents(vNode);\r\n\r\n    if (!isNull(vNode.ref)) {\r\n        callback.enqueue(() => attachRef(vNode));\r\n    }\r\n\r\n    //if (!isNull(parentDom)) {\r\n    //    appendChild(parentDom, dom);\r\n    //}\r\n\r\n    if (!isNullOrUndef(hooks.create)) {\r\n        callback.enqueue(() => hooks.create(vNode));\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountArrayChildren(children, dom, callback, context, isSVG) {\r\n    for (let i = 0; i < children.length; i++) {\r\n        let child = children[i];\r\n\r\n        if (!isInvalid(child)) {\r\n            mount(child, dom, callback, context, isSVG);\r\n        }\r\n    }\r\n}\r\n\r\nexport function mountComponent(vNode, parentDom, callback, context, isSVG) {\r\n    const type = vNode.type;\r\n    const props = vNode.props;\r\n    const hooks = vNode.hooks || {};\r\n    const isClass = isStatefulComponent(type);\r\n    let dom, children;\r\n\r\n    if (isClass) {\r\n        const inst = createNeactComponent(vNode, context, isSVG);\r\n        vNode._instance = inst;\r\n\r\n        inst._pendingSetState = true;\r\n\r\n        if (inst.componentWillMount) {\r\n            inst.componentWillMount();\r\n            if (inst._pendingStateQueue) {\r\n                inst.state = inst._processPendingState(inst.props, inst.context);\r\n            }\r\n        }\r\n\r\n        inst._ignoreSetState = true;\r\n        NeactCurrentOwner.current = inst;\r\n        vNode.children = inst.render(inst.props, inst.state, inst.context);\r\n        NeactCurrentOwner.current = null;\r\n        inst._ignoreSetState = false;\r\n        normalizeComponentChildren(vNode);\r\n        inst._vNode = vNode;\r\n        inst._renderedVNode = vNode.children;\r\n        inst._pendingSetState = false;\r\n\r\n        vNode.dom = dom = mount(vNode.children, parentDom, callback, inst._childContext, isSVG);\r\n\r\n        inst._callbacks = new CallbackQueue();\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            callback.enqueue(() => attachRef(vNode));\r\n        }\r\n\r\n        if (inst.componentDidMount) {\r\n            callback.enqueue(() => inst.componentDidMount());\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.create)) {\r\n            callback.enqueue(() => hooks.create(vNode));\r\n        }\r\n\r\n        if (inst._pendingCallbacks) {\r\n            callback.enqueue(() => inst._processPendingCallbacks());\r\n        }\r\n\r\n    } else {\r\n        //Function Component\r\n        if (!isNullOrUndef(props.onComponentWillMount)) {\r\n            props.onComponentWillMount(vNode);\r\n        }\r\n\r\n        vNode.children = type(props, context);\r\n        normalizeComponentChildren(vNode);\r\n        vNode.dom = dom = mount(vNode.children, parentDom, callback, context, isSVG);\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            callback.enqueue(() => attachRef(vNode));\r\n        }\r\n\r\n        if (!isNullOrUndef(props.onComponentDidMount)) {\r\n            callback.enqueue(() => props.onComponentDidMount(vNode));\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.create)) {\r\n            callback.enqueue(() => hooks.create(vNode));\r\n        }\r\n    }\r\n\r\n    return dom;\r\n}\r\n\r\nexport function normalizeComponentChildren(vNode) {\r\n    let children = vNode.children;\r\n\r\n    if (isArray(children)) {\r\n        throwError('a valid Neact VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n    } else if (isInvalid(children)) {\r\n        vNode.children = createVoidVNode();\r\n    } else if (isStringOrNumber(children)) {\r\n        vNode.children = createTextVNode(children);\r\n    }\r\n\r\n    vNode.children.parentVNode = vNode;\r\n\r\n    return vNode;\r\n}","'use strict';\r\n\r\nimport {\r\n    isUndefined,\r\n    isDefined,\r\n    isInvalid,\r\n    isStringOrNumber,\r\n    isNullOrUndef,\r\n    isArray,\r\n    isNull,\r\n    isStatefulComponent,\r\n    toArray,\r\n    emptyObject,\r\n    throwError,\r\n    assign\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    isElementVNode,\r\n    isComponentVNode,\r\n    isTextVNode,\r\n    isVoidVNode,\r\n    isVNode,\r\n    isSameVNode\r\n} from './NeactElement';\r\n\r\nimport {\r\n    mount,\r\n    mountArrayChildren,\r\n    normalizeComponentChildren\r\n} from './NeactMount';\r\n\r\nimport { unmount } from './NeactUnmount';\r\n\r\nimport {\r\n    insertBefore,\r\n    nextSibling,\r\n    replaceWithNewNode,\r\n    setTextContent\r\n} from './NeactDOMUtils';\r\n\r\nimport {\r\n    shouldUpdateRefs,\r\n    attachRef,\r\n    detachRef\r\n} from './NeactRefs';\r\n\r\nimport CallbackQueue from './CallbackQueue';\r\n\r\nimport {\r\n    updateDOMProperty\r\n} from './processDOMProperty';\r\n\r\nimport {\r\n    updateDOMEvents\r\n} from './processDOMEvents';\r\n\r\nimport processElement from './processElement';\r\n\r\nexport function patch(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    var isUndefCallbacks = isNullOrUndef(callback);\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (lastVNode !== nextVNode) {\r\n        if (!isSameVNode(lastVNode, nextVNode)) {\r\n            replaceWithNewNode(\r\n                lastVNode,\r\n                nextVNode,\r\n                parentDom,\r\n                callback,\r\n                context,\r\n                isSVG\r\n            );\r\n        } else if (isElementVNode(lastVNode)) {\r\n            patchElement(lastVNode, nextVNode, parentDom, callback, context, isSVG);\r\n        } else if (isComponentVNode(lastVNode)) {\r\n            patchComponent(lastVNode, nextVNode, parentDom, callback, context, isSVG);\r\n        } else if (isTextVNode(lastVNode)) {\r\n            patchText(lastVNode, nextVNode);\r\n        } else if (isVoidVNode(lastVNode)) {\r\n            patchVoid(lastVNode, nextVNode);\r\n        }\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n\r\n    return nextVNode;\r\n}\r\n\r\n\r\nfunction unmountChildren(children, dom) {\r\n    if (isVNode(children)) {\r\n        unmount(children, dom);\r\n    } else if (isArray(children)) {\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n\r\n            if (!isInvalid(child)) {\r\n                unmount(child, dom);\r\n            }\r\n        }\r\n    } else {\r\n        setTextContent(dom, '');\r\n    }\r\n}\r\n\r\nfunction patchElement(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    const dom = lastVNode.dom;\r\n    const hooks = nextVNode.hooks || {};\r\n    const lastProps = lastVNode.props;\r\n    const nextProps = nextVNode.props;\r\n    const lastChildren = lastVNode.children;\r\n    const nextChildren = nextVNode.children;\r\n    const lastEvents = lastVNode.events;\r\n    const nextEvents = nextVNode.events;\r\n    const lastHtml = lastProps && lastProps.dangerouslySetInnerHTML && lastProps.dangerouslySetInnerHTML.__html;\r\n    const nextHtml = nextProps && nextProps.dangerouslySetInnerHTML && nextProps.dangerouslySetInnerHTML.__html;\r\n\r\n    nextVNode.dom = dom;\r\n\r\n    if (hooks.beforeUpdate) {\r\n        hooks.beforeUpdate(lastVNode, nextVNode);\r\n    }\r\n\r\n    let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n    if (refsChanged) {\r\n        detachRef(lastVNode);\r\n    }\r\n\r\n    if (!isNullOrUndef(lastHtml) && isNullOrUndef(nextHtml)) {\r\n        dom.innerHTML = '';\r\n    }\r\n\r\n    if (lastChildren !== nextChildren) {\r\n        patchChildren(lastChildren, nextChildren, dom, callback, context, isSVG);\r\n    }\r\n\r\n    processElement(dom, nextVNode);\r\n\r\n    updateDOMProperty(lastVNode.props, nextVNode.props, isSVG, nextVNode);\r\n    updateDOMEvents(lastVNode, nextVNode);\r\n\r\n    if (!isNull(nextVNode.ref)) {\r\n        callback.enqueue(() => attachRef(nextVNode));\r\n    }\r\n\r\n    if (hooks.update) {\r\n        callback.enqueue(() => hooks.update(nextVNode));\r\n    }\r\n\r\n}\r\n\r\nfunction patchChildren(lastChildren, nextChildren, dom, callback, context, isSVG) {\r\n    if (isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, callback);\r\n    } else if (isInvalid(lastChildren)) {\r\n        if (isArray(nextChildren)) {\r\n            mountArrayChildren(nextChildren, dom, callback, context, isSVG);\r\n        } else {\r\n            mount(nextChildren, dom, callback, context, isSVG);\r\n        }\r\n    } else if (!isArray(lastChildren) && !isArray(nextChildren)) {\r\n        patch(lastChildren, nextChildren, dom, callback, context, isSVG);\r\n    } else {\r\n        updateChildren(toArray(lastChildren), toArray(nextChildren), dom, callback, context, isSVG);\r\n    }\r\n}\r\n\r\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\r\n    var i, map = {},\r\n        key;\r\n    for (i = beginIdx; i <= endIdx; ++i) {\r\n        key = children[i].key;\r\n        if (!isNullOrUndef(key)) {\r\n            if (isDefined(map[key])) {\r\n                throwError('key must be unique.');\r\n            }\r\n            map[key] = i;\r\n        }\r\n    }\r\n    return map;\r\n}\r\n\r\nfunction updateChildren(oldCh, newCh, parentElm, callback, context, isSVG) {\r\n    var oldStartIdx = 0,\r\n        newStartIdx = 0;\r\n    var oldEndIdx = oldCh.length - 1;\r\n    var oldStartVnode = oldCh[0];\r\n    var oldEndVnode = oldCh[oldEndIdx];\r\n    var newEndIdx = newCh.length - 1;\r\n    var newStartVnode = newCh[0];\r\n    var newEndVnode = newCh[newEndIdx];\r\n    var oldKeyToIdx, idxInOld, elmToMove, before;\r\n\r\n    var newChilds = Array(newCh.length);\r\n\r\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\r\n        if (isUndefined(oldStartVnode)) {\r\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\r\n        } else if (isUndefined(oldEndVnode)) {\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n        } else if (isSameVNode(oldStartVnode, newStartVnode)) {\r\n            patch(oldStartVnode, newStartVnode, parentElm, callback, context, isSVG);\r\n            oldStartVnode = oldCh[++oldStartIdx];\r\n            newStartVnode = newCh[++newStartIdx];\r\n        } else if (isSameVNode(oldEndVnode, newEndVnode)) {\r\n            patch(oldEndVnode, newEndVnode, parentElm, callback, context, isSVG);\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n            newEndVnode = newCh[--newEndIdx];\r\n        } else if (isSameVNode(oldStartVnode, newEndVnode)) { // Vnode moved right\r\n            insertBefore(parentElm, oldStartVnode.dom, nextSibling(oldEndVnode.dom));\r\n            patch(oldStartVnode, newEndVnode, parentElm, callback, context, isSVG);\r\n            oldStartVnode = oldCh[++oldStartIdx];\r\n            newEndVnode = newCh[--newEndIdx];\r\n        } else if (isSameVNode(oldEndVnode, newStartVnode)) { // Vnode moved left\r\n            insertBefore(parentElm, oldEndVnode.dom, oldStartVnode.dom);\r\n            patch(oldEndVnode, newStartVnode, parentElm, callback, context, isSVG);\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n            newStartVnode = newCh[++newStartIdx];\r\n        } else {\r\n            if (isUndefined(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\r\n\r\n            idxInOld = oldKeyToIdx[newStartVnode.key];\r\n\r\n            if (isUndefined(idxInOld) || isUndefined(oldCh[idxInOld])) { // New element\r\n                var dom = mount(newCh[newStartIdx], null, callback, context, isSVG);\r\n                insertBefore(parentElm, dom, oldStartVnode.dom);\r\n                newStartVnode = newCh[++newStartIdx];\r\n            } else {\r\n                elmToMove = oldCh[idxInOld];\r\n                insertBefore(parentElm, elmToMove.dom, oldStartVnode.dom);\r\n                patch(elmToMove, newStartVnode, parentElm, callback, context, isSVG);\r\n                oldCh[idxInOld] = undefined;\r\n                newStartVnode = newCh[++newStartIdx];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (oldStartIdx > oldEndIdx) { // New element\r\n        before = isUndefined(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].dom;\r\n        for (; newStartIdx <= newEndIdx; newStartIdx++) {\r\n            var dom = mount(newCh[newStartIdx], null, callback, context, isSVG);\r\n            insertBefore(parentElm, dom, before);\r\n        }\r\n    } else if (newStartIdx > newEndIdx) { // Remove element\r\n        for (; oldStartIdx <= oldEndIdx; oldStartIdx++) {\r\n\r\n            if (isDefined(oldCh[oldStartIdx])) {\r\n                unmount(oldCh[oldStartIdx], parentElm);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction patchText(lastVNode, nextVNode) {\r\n    const nextText = nextVNode.children;\r\n    const dom = lastVNode.dom;\r\n\r\n    nextVNode.dom = dom;\r\n\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\n\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\n\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    const nextType = nextVNode.type;\r\n    const nextProps = nextVNode.props;\r\n    const isClass = isStatefulComponent(nextType);\r\n    const hooks = nextVNode.hooks || {};\r\n\r\n    if (isClass) {\r\n        const inst = lastVNode._instance;\r\n        const lastChildren = lastVNode.children;\r\n        const lastProps = inst.props;\r\n        const lastState = inst.state;\r\n        const lastContext = inst.context;\r\n        let nextChildren, childContext, shouldUpdate = false;\r\n\r\n        nextVNode.dom = lastVNode.dom;\r\n        nextVNode.children = lastChildren;\r\n        nextVNode._instance = inst;\r\n        inst._isSVG = isSVG;\r\n\r\n        nextChildren = inst._updateComponent(lastProps, nextProps, context);\r\n\r\n        childContext = inst.getChildContext();\r\n\r\n        if (!isNullOrUndef(childContext)) {\r\n            childContext = assign({}, context, childContext);\r\n        } else {\r\n            childContext = context;\r\n        }\r\n\r\n        if (nextChildren !== emptyObject) {\r\n            nextVNode.children = nextChildren;\r\n            normalizeComponentChildren(nextVNode);\r\n            nextChildren = nextVNode.children;\r\n            shouldUpdate = true;\r\n        }\r\n\r\n        inst._childContext = childContext;\r\n        inst._vNode = nextVNode;\r\n        inst._renderedVNode = nextChildren;\r\n\r\n        if (shouldUpdate) {\r\n\r\n            if (hooks.beforeUpdate) {\r\n                hooks.beforeUpdate(lastVNode, nextVNode);\r\n            }\r\n\r\n            let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n            if (refsChanged) {\r\n                detachRef(lastVNode);\r\n            }\r\n\r\n            patch(lastChildren, nextChildren, parentDom, callback, childContext, isSVG);\r\n            nextVNode.dom = nextChildren.dom;\r\n\r\n            if (!isNull(nextVNode.ref)) {\r\n                callback.enqueue(() => attachRef(nextVNode));\r\n            }\r\n\r\n            if (inst.componentDidUpdate) {\r\n                callback.enqueue(() => inst.componentDidUpdate(lastProps, lastState, lastContext, nextVNode.dom));\r\n            }\r\n\r\n            if (!isNullOrUndef(hooks.update)) {\r\n                callback.enqueue(() => hooks.update(nextVNode));\r\n            }\r\n        }\r\n\r\n        if (inst._pendingCallbacks) {\r\n            callback.enqueue(() => inst._processPendingCallbacks());\r\n        }\r\n    } else {\r\n        let shouldUpdate = true;\r\n        const lastProps = lastVNode.props;\r\n        const lastChildren = lastVNode.children;\r\n        let nextChildren = lastChildren;\r\n\r\n        nextVNode.dom = lastVNode.dom;\r\n        nextVNode.children = nextChildren;\r\n\r\n        if (!isNullOrUndef(nextProps.onComponentShouldUpdate)) {\r\n            shouldUpdate = nextProps.onComponentShouldUpdate(lastProps, nextProps, context);\r\n        }\r\n\r\n        if (shouldUpdate !== false) {\r\n            let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n            if (refsChanged) {\r\n                detachRef(lastVNode);\r\n            }\r\n\r\n            if (!isNullOrUndef(nextProps.onComponentWillUpdate)) {\r\n                nextProps.onComponentWillUpdate(lastProps, nextProps, nextVNode);\r\n            }\r\n            nextVNode.children = nextType(nextProps, context);\r\n\r\n            normalizeComponentChildren(nextVNode);\r\n\r\n            nextChildren = nextVNode.children;\r\n\r\n            if (hooks.beforeUpdate) {\r\n                hooks.beforeUpdate(lastVNode, nextVNode);\r\n            }\r\n\r\n            patch(lastChildren, nextChildren, parentDom, callback, context, isSVG);\r\n            nextVNode.dom = nextChildren.dom;\r\n\r\n            if (!isNull(nextVNode.ref)) {\r\n                callback.enqueue(() => attachRef(nextVNode));\r\n            }\r\n\r\n            if (!isNullOrUndef(nextProps.onComponentDidUpdate)) {\r\n                callback.enqueue(() => nextProps.onComponentDidUpdate(nextVNode));\r\n            }\r\n\r\n            if (!isNullOrUndef(hooks.update)) {\r\n                callback.enqueue(() => hooks.update(nextVNode));\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    warning,\r\n    throwError,\r\n    isDOM,\r\n    assign,\r\n    isInvalid\r\n} from './NeactUtils';\r\n\r\nimport {\r\n    mount\r\n} from './NeactMount';\r\n\r\nimport {\r\n    unmount\r\n} from './NeactUnmount';\r\n\r\nimport {\r\n    isVNode\r\n} from './NeactElement';\r\n\r\nimport {\r\n    patch\r\n} from './patch';\r\n\r\nexport function _patch(lastVNode, nextVNode) {\r\n    if (!isInvalid(lastVNode)) {\r\n        if (isDOM(lastVNode)) {\r\n            render(nextVNode, lastVNode);\r\n        } else if (isVNode(lastVNode) && isVNode(nextVNode)) {\r\n            if (lastVNode.dom) {\r\n                patch(lastVNode, nextVNode);\r\n                if (lastVNode.parentVNode) {\r\n                    assign(lastVNode, nextVNode);\r\n                }\r\n            } else {\r\n                throwError('patch error vNode');\r\n            }\r\n        }\r\n\r\n        return nextVNode;\r\n    }\r\n}\r\n\r\nexport function render(vNode, parentDom) {\r\n    if (document.body === parentDom) {\r\n        warning('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n    }\r\n\r\n    const lastVnode = parentDom.__NeactRootNode;\r\n\r\n    if (!lastVnode) {\r\n        if (!isInvalid(vNode) && isVNode(vNode)) {\r\n            mount(vNode, parentDom, null, {});\r\n            parentDom.__NeactRootNode = vNode;\r\n            return vNode._instance || vNode.dom;\r\n        } else {\r\n            throwError('isInvalid VNode');\r\n        }\r\n    } else {\r\n        if (isInvalid(vNode)) {\r\n            unmount(lastVnode, parentDom);\r\n            parentDom.__NeactRootNode = null;\r\n            delete parentDom.__NeactRootNode;\r\n        } else if (isVNode(vNode)) {\r\n            patch(lastVnode, vNode);\r\n            parentDom.__NeactRootNode = vNode;\r\n            return vNode._instance || vNode.dom;\r\n        } else {\r\n            throwError('isInvalid VNode');\r\n        }\r\n    }\r\n}\r\n\r\nexport function unmountComponentAtNode(dom) {\r\n    if (dom.__NeactRootNode) {\r\n        unmount(dom.__NeactRootNode, dom);\r\n        delete dom.__NeactRootNode;\r\n    }\r\n}\r\n\r\nexport function findDOMNode(vNode) {\r\n    if (!isInvalid(isVNode)) {\r\n        if (isVNode(vNode)) {\r\n            return vNode.dom;\r\n        } else if (vNode._vNode) {\r\n            return vNode._vNode.dom;\r\n        }\r\n    }\r\n    return null;\r\n}","'use strict';\r\n\r\nimport { isObject } from './NeactUtils';\r\n\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n    nativeKeys = Object.keys;\r\n\r\nfunction keys(obj) {\r\n    if (nativeKeys) {\r\n        return nativeKeys(obj);\r\n    }\r\n\r\n    var keys = [];\r\n\r\n    for (var key in obj) {\r\n        keys.push(key);\r\n    }\r\n\r\n    return keys;\r\n}\r\n\r\n/**\r\n * inlined Object.is polyfill to avoid requiring consumers ship their own\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n */\r\nfunction is(x, y) {\r\n    // SameValue algorithm\r\n    if (x === y) {\r\n        // Steps 1-5, 7-10\r\n        // Steps 6.b-6.e: +0 != -0\r\n        // Added the nonzero y check to make Flow happy, but it is redundant\r\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\r\n    } else {\r\n        // Step 6.a: NaN == NaN\r\n        return x !== x && y !== y;\r\n    }\r\n}\r\n\r\n/**\r\n * Performs equality by iterating through keys on an object and returning false\r\n * when any key has values which are not strictly equal between the arguments.\r\n * Returns true when the values of all keys are strictly equal.\r\n */\r\nexport default function shallowEqual(objA, objB) {\r\n    if (is(objA, objB)) {\r\n        return true;\r\n    }\r\n\r\n    if (!isObject(objA) || objA === null || !isObject(objB) || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    var keysA = keys(objA);\r\n    var keysB = keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    for (var i = 0; i < keysA.length; i++) {\r\n        if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}","'use strict';\r\n\r\nimport {\r\n    isFunction,\r\n    isNullOrUndef,\r\n    isString,\r\n    assign,\r\n    throwError,\r\n    warning,\r\n    emptyObject\r\n} from './NeactUtils';\r\n\r\nimport NeactCurrentOwner from './NeactCurrentOwner';\r\n\r\nimport {\r\n    patch\r\n} from './patch';\r\n\r\nimport {\r\n    normalizeComponentChildren\r\n} from './NeactMount';\r\n\r\nimport shallowEqual from './shallowEqual';\r\n\r\nfunction updateParentComponentVNodes(vNode, dom) {\r\n    const parentVNode = vNode.parentVNode;\r\n\r\n    if (parentVNode && !isString(parentVNode.type)) {\r\n        parentVNode.dom = dom;\r\n        updateParentComponentVNodes(parentVNode, dom);\r\n    }\r\n}\r\n\r\nfunction enqueueSetState(component, newState, callback, sync = false) {\r\n    if (!isNullOrUndef(newState)) {\r\n        let queue = component._pendingStateQueue || (component._pendingStateQueue = []);\r\n        queue.push(newState);\r\n    }\r\n\r\n    if (callback) {\r\n        let queue = component._pendingCallbacks || (component._pendingCallbacks = []);\r\n        queue.push(callback);\r\n    }\r\n\r\n    if (!component._pendingSetState || sync) {\r\n        applyState(component, false, callback);\r\n    }\r\n}\r\n\r\nfunction applyState(inst, callback) {\r\n    const vNode = inst._vNode;\r\n    const parentDom = vNode.dom.parentNode;\r\n    const hooks = vNode.hooks || {};\r\n    const state = inst.state;\r\n    const lastChildren = vNode.children;\r\n    const props = inst.props;\r\n    const context = inst.context;\r\n    let childContext = inst.getChildContext();\r\n    let nextChildren, shouldUpdate = false;\r\n\r\n    nextChildren = inst._updateComponent(props, props, context);\r\n\r\n    if (nextChildren !== emptyObject) {\r\n        vNode.children = nextChildren;\r\n        normalizeComponentChildren(vNode);\r\n        nextChildren = vNode.children;\r\n        shouldUpdate = true;\r\n    }\r\n\r\n    if (shouldUpdate) {\r\n\r\n        if (hooks.beforeUpdate) {\r\n            hooks.beforeUpdate(vNode, vNode);\r\n        }\r\n\r\n        if (!isNullOrUndef(childContext)) {\r\n            childContext = assign({}, context, inst._childContext, childContext);\r\n        } else {\r\n            childContext = assign({}, context, inst._childContext);\r\n        }\r\n\r\n        let callbacks = inst._callbacks;\r\n\r\n        patch(lastChildren, nextChildren, parentDom, callbacks, childContext, inst._isSVG);\r\n\r\n        const dom = vNode.dom = nextChildren.dom;\r\n\r\n        updateParentComponentVNodes(vNode, dom);\r\n\r\n        callbacks.notifyAll();\r\n\r\n        if (inst.componentDidUpdate) {\r\n            inst.componentDidUpdate(props, state);\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.update)) {\r\n            hooks.update(vNode);\r\n        }\r\n    }\r\n\r\n    if (inst._pendingCallbacks) {\r\n        inst._processPendingCallbacks();\r\n    }\r\n\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n}\r\n\r\nexport default function NeactComponent(props, context) {\r\n    this.state = {};\r\n    this.refs = {};\r\n    this.props = props || {};\r\n    this.context = context || {};\r\n}\r\n\r\nassign(NeactComponent.prototype, {\r\n    _vNode: null,\r\n    _unmounted: true,\r\n    _callbacks: null,\r\n    _isSVG: false,\r\n    _childContext: null,\r\n    _pendingStateQueue: null,\r\n    _pendingCallbacks: null,\r\n    _pendingReplaceState: false,\r\n    _pendingForceUpdate: false,\r\n    _pendingSetState: false,\r\n    _disabledSetState: false,\r\n    _ignoreSetState: false,\r\n    _renderedVNode: null,\r\n\r\n    render() {},\r\n\r\n    forceUpdate(callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        this._pendingForceUpdate = true;\r\n\r\n        enqueueSetState(this, null, callback);\r\n    },\r\n\r\n    setState(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        if (!this._disabledSetState) {\r\n            if (!this._ignoreSetState) {\r\n                enqueueSetState(this, newState, callback);\r\n            } else {\r\n                warning('ignore update state via setState(...) in shouldComponentUpdate() or render().');\r\n            }\r\n        } else {\r\n            throwError('cannot update state via setState(...) in componentWillUpdate().');\r\n        }\r\n    },\r\n\r\n    replaceState(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        this._pendingReplaceState = true;\r\n        this.setState(newState, callback);\r\n    },\r\n\r\n    setStateSync(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        if (!this._disabledSetState) {\r\n            if (!this._ignoreSetState) {\r\n                enqueueSetState(this, newState, callback, true);\r\n            } else {\r\n                warning('ignore update state via setState(...) in shouldComponentUpdate() or render().');\r\n            }\r\n        } else {\r\n            throwError('cannot update state via setState(...) in componentWillUpdate().');\r\n        }\r\n    },\r\n\r\n    getChildContext() {},\r\n\r\n    _updateComponent(prevProps, nextProps, context) {\r\n        const inst = this;\r\n        if (this._unmounted === true) {\r\n            throwError();\r\n        }\r\n\r\n        let willReceive = false;\r\n        let children = emptyObject;\r\n        let shouldUpdate = true;\r\n\r\n        if (prevProps !== nextProps) {\r\n            willReceive = true;\r\n        }\r\n\r\n        if (willReceive && inst.componentWillReceiveProps) {\r\n            inst._pendingSetState = true;\r\n            inst.componentWillReceiveProps(nextProps, context);\r\n            inst._pendingSetState = false;\r\n        }\r\n\r\n        let prevState = inst.state;\r\n        let nextState = inst._processPendingState(nextProps, context);\r\n\r\n        inst._ignoreSetState = true;\r\n\r\n        if (!inst._pendingForceUpdate) {\r\n            if (inst.shouldComponentUpdate) {\r\n                shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, context);\r\n            } else {\r\n                if (inst._isPureNeactComponent) {\r\n                    shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (shouldUpdate !== false) {\r\n            inst._pendingForceUpdate = false;\r\n\r\n            if (inst.componentWillUpdate) {\r\n                inst._disabledSetState = true;\r\n                inst.componentWillUpdate(nextProps, nextState, context);\r\n                inst._disabledSetState = false;\r\n            }\r\n            inst.props = nextProps;\r\n            inst.state = nextState;\r\n            inst.context = context;\r\n            NeactCurrentOwner.current = inst;\r\n            children = inst.render(inst.props, inst.state, inst.context);\r\n            NeactCurrentOwner.current = null;\r\n        }\r\n\r\n        inst._ignoreSetState = false;\r\n\r\n        return children;\r\n    },\r\n\r\n    _processPendingState(props, context) {\r\n        var inst = this;\r\n        var queue = this._pendingStateQueue;\r\n        var replace = this._pendingReplaceState;\r\n        this._pendingReplaceState = false;\r\n        this._pendingStateQueue = null;\r\n\r\n        if (!queue) {\r\n            return inst.state;\r\n        }\r\n\r\n        if (replace && queue.length === 1) {\r\n            return queue[0];\r\n        }\r\n\r\n        var nextState = assign({}, replace ? queue[0] : inst.state);\r\n        for (var i = replace ? 1 : 0; i < queue.length; i++) {\r\n            var partial = queue[i];\r\n            assign(nextState, typeof partial === 'function' ? partial.call(inst, nextState, props, context) : partial);\r\n        }\r\n\r\n        return nextState;\r\n    },\r\n    _processPendingCallbacks() {\r\n        const callbacks = this._pendingCallbacks;\r\n        this._pendingCallbacks = null;\r\n        if (callbacks) {\r\n            for (let j = 0; j < callbacks.length; j++) {\r\n                let cb = callbacks[j];\r\n                if (typeof cb === 'function') {\r\n                    cb.call(this);\r\n                }\r\n            }\r\n        }\r\n    }\r\n});","'use strict';\r\nimport {\r\n    isArray,\r\n    isObject,\r\n    inherits\r\n} from './NeactUtils';\r\n\r\nimport NeactComponent from './NeactComponent';\r\n\r\nexport function createClass(spec) {\r\n    function Constructor(props, context) {\r\n        this.state = {};\r\n        this.refs = {};\r\n        this.props = props || {};\r\n        this.context = context || {};\r\n\r\n        if (this.construct) {\r\n            this.construct(props, context);\r\n            return;\r\n        }\r\n\r\n        var initialState = this.getInitialState ? this.getInitialState(this.props, this.context) : null;\r\n\r\n        if (!(isObject(initialState) && !isArray(initialState))) {\r\n            new TypeError('getInitialState(): must return an object or null');\r\n        }\r\n\r\n        this.state = initialState;\r\n    }\r\n\r\n    inherits(Constructor, NeactComponent, spec);\r\n\r\n    Constructor.prototype.constructor = Constructor;\r\n\r\n    if (spec.getDefaultProps) {\r\n        Constructor.defaultProps = spec.getDefaultProps();\r\n    }\r\n\r\n    if (!spec.render) {\r\n        throw new TypeError('createClass(...): Class specification must implement a `render` method.');\r\n    }\r\n\r\n    return Constructor;\r\n}","'use strict';\r\n\r\n\r\nimport NeactComponent from './NeactComponent';\r\n\r\nexport default function NeactPureComponent(props, context) {\r\n    this.state = {};\r\n    this.refs = {};\r\n    this.props = props || {};\r\n    this.context = context || {};\r\n}\r\n\r\nfunction ComponentDummy() {}\r\nComponentDummy.prototype = NeactComponent.prototype;\r\nNeactPureComponent.prototype = new ComponentDummy();\r\nNeactPureComponent.prototype.constructor = NeactPureComponent;\r\n\r\nNeactPureComponent.prototype._isPureNeactComponent = true;","'use strict';\r\n\r\nimport {\r\n    render,\r\n    findDOMNode,\r\n    unmountComponentAtNode,\r\n    _patch as patch\r\n} from './NeactRender';\r\n\r\nimport processDOMPropertyHooks from './processDOMPropertyHooks';\r\n\r\nimport {\r\n    createElement,\r\n    createVNode,\r\n    createTextVNode,\r\n    cloneElement,\r\n    isValidElement\r\n} from './NeactElement';\r\n\r\nimport {\r\n    createClass\r\n} from './NeactClass';\r\n\r\nimport NeactComponent from './NeactComponent';\r\nimport NeactPureComponent from './NeactPureComponent';\r\n\r\nimport {\r\n    isNullOrUndef,\r\n    map,\r\n    each,\r\n    inherits,\r\n    bind,\r\n    assign,\r\n    toArray,\r\n    flatten,\r\n    filter\r\n} from './NeactUtils';\r\n\r\nvar utils = {\r\n    map,\r\n    each,\r\n    inherits,\r\n    bind,\r\n    assign,\r\n    toArray,\r\n    flatten,\r\n    filter\r\n};\r\n\r\nconst Children = {\r\n    map(obj, cb, ctx) {\r\n        if (isNullOrUndef(obj)) return;\r\n        return map(toArray(obj), cb, ctx);\r\n    },\r\n    forEach(obj, cb, ctx) {\r\n        if (isNullOrUndef(obj)) return;\r\n        each(toArray(obj), cb, ctx);\r\n    },\r\n    count(children) {\r\n        return toArray(children).length;\r\n    },\r\n    only(children) {\r\n        children = Children.toArray(children);\r\n        if (children.length !== 1) { throw new Error('Children.only() expects only one child.'); }\r\n        return children[0];\r\n    },\r\n    toArray\r\n};\r\n\r\nexport {\r\n    render,\r\n    patch,\r\n    findDOMNode,\r\n    unmountComponentAtNode,\r\n    Children,\r\n    createElement,\r\n    createVNode,\r\n    createTextVNode,\r\n    cloneElement,\r\n    isValidElement,\r\n    processDOMPropertyHooks,\r\n    createClass,\r\n    NeactComponent as Component,\r\n    NeactPureComponent as PureComponent,\r\n    utils\r\n};"],"names":["ArrayProto","Array","prototype","nativeForEach","forEach","nativeMap","map","nativeFilter","filter","objToString","Object","toString","emptyObject","isArray","s","call","toArray","obj","isUndefined","undefined","isStatefulComponent","o","render","isString","isNumber","isTrue","isNull","isStringOrNumber","isNullOrUndef","isInvalid","isFunction","isAttrAnEvent","attr","length","isDefined","isObject","isDOM","nodeType","nodeName","throwError","message","Error","warning","msg","console","warn","inherits","cls","base","proto","F","prop","constructor","each","cb","context","i","len","key","hasOwnProperty","result","push","bind","func","apply","arguments","flatten","input","output","idx","value","j","assign","target","TypeError","index","source","nextKey","canUseDOM","window","document","createElement","ieVersion","version","div","iElems","getElementsByTagName","innerHTML","isIE","NeactCurrentOwner","normalizeVNodes","nodes","parentVNode","newNodes","n","createTextVNode","normalizeChildren","children","isVNode","normalize","vNode","isComponent","isComponentVNode","props","VNode","$$isVNode","isValidElement","isSameVNode","vnode1","vnode2","isSame","type","dom","tagName","toLowerCase","isVoidVNode","isTextVNode","isElementVNode","createVNode","events","hooks","ref","isSVG","owner","noNormalise","createVoidVNode","emptyVNode","text","config","_children","defaultProps","dangerouslySetInnerHTML","current","cloneElement","element","child","_owner","CallbackQueue","listeners","enqueue","callback","notifyAll","shouldUpdateRefs","lastVNode","nextVNode","lastRef","nextRef","lastOwner","nextOwner","detachRef","refs","attachRef","_instance","ename","replace","invokeHandler","handler","vnode","event","el","args","slice","handleEvent","name","on","createListener","e","createDOMEvents","updateDOMEvents","oldVnode","oldOn","oldListener","_listener","oldElm","elm","listener","destroyDOMEvents","unmountVoidOrText","parentDom","unmountChildren","unmountElement","destroy","unmountComponent","inst","isClass","_unmounted","_ignoreSetState","componentWillUnmount","componentDidUnmount","onComponentWillUnmount","onComponentDidUnmount","unmount","isUndefCallbacks","svgNS","appendChild","insertBefore","parentNode","newNode","referenceNode","nextSibling","node","removeChild","documentCreateElement","tag","createElementNS","setTextContent","data","textContent","innerText","replaceWithNewNode","lastNode","nextNode","mount","replaceChild","nextDom","lastDom","addEventListener","fn","attachEvent","attachEventName","removeEventListener","detachEvent","createNeactComponent","initialState","state","_isSVG","childContext","getChildContext","_childContext","processElement","processDOMPropertyHooks","constructDefaults","string","object","r","split","xlinkNS","xmlNS","strictProps","booleanProps","namespaces","isUnitlessNumber","skipProps","dehyphenProps","probablyKebabProps","kebabize","str","smallLetter","largeLetter","hasShorthandPropertyBug","styleFloatAccessor","tempStyle","style","font","documentElement","cssFloat","shorthandPropertyExpansions","raf","requestAnimationFrame","setTimeout","nextFrame","setNextFrame","val","lastValue","nextValue","cssText","cur","domStyle","oldStyle","oldHasDel","expansion","individualStyleName","dangerousStyleValue","delayed","isEmpty","isNonNumeric","isNaN","trim","removeAttribute","setAttribute","className","lastHtml","__html","nextHtml","dehyphenProp","match","ns","setAttributeNS","propertyHooks","processDOMStyle","processDOMAttr","createDOMProperty","updateDOMProperty","lastProps","nextProps","hook","mountElement","mountText","mountComponent","mountVoid","createTextNode","createComment","beforeCreate","create","mountArrayChildren","_pendingSetState","componentWillMount","_pendingStateQueue","_processPendingState","_vNode","_renderedVNode","_callbacks","componentDidMount","_pendingCallbacks","_processPendingCallbacks","onComponentWillMount","onComponentDidMount","normalizeComponentChildren","patch","patchElement","lastChildren","nextChildren","lastEvents","nextEvents","beforeUpdate","refsChanged","update","patchChildren","createKeyToOldIdx","beginIdx","endIdx","updateChildren","oldCh","newCh","parentElm","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","before","newChilds","patchText","nextText","nodeValue","patchVoid","patchComponent","nextType","lastState","lastContext","shouldUpdate","_updateComponent","componentDidUpdate","onComponentShouldUpdate","onComponentWillUpdate","onComponentDidUpdate","_patch","body","lastVnode","__NeactRootNode","unmountComponentAtNode","findDOMNode","nativeKeys","keys","is","x","y","shallowEqual","objA","objB","keysA","keysB","updateParentComponentVNodes","enqueueSetState","component","newState","sync","queue","applyState","callbacks","NeactComponent","_pendingForceUpdate","_disabledSetState","_pendingReplaceState","setState","prevProps","willReceive","componentWillReceiveProps","prevState","nextState","shouldComponentUpdate","_isPureNeactComponent","componentWillUpdate","partial","createClass","spec","Constructor","construct","getInitialState","getDefaultProps","NeactPureComponent","ComponentDummy","utils","Children","ctx"],"mappings":";;;;;;;;AAEA,IAAIA,aAAaC,MAAMC,SAAvB;AACA,IAAIC,gBAAgBH,WAAWI,OAA/B;AACA,IAAIC,YAAYL,WAAWM,GAA3B;AACA,IAAIC,eAAeP,WAAWQ,MAA9B;;AAEA,IAAIC,cAAcC,OAAOR,SAAP,CAAiBS,QAAnC;;AAEA,AAAO,IAAIC,cAAc,EAAlB;;AAEP,AAAO,IAAIC,UAAUZ,MAAMY,OAAN,IAAiB,UAASC,CAAT,EAAY;WACvCL,YAAYM,IAAZ,CAAiBD,CAAjB,MAAwB,gBAA/B;CADG;;AAIP,AAAO,SAASE,OAAT,CAAiBC,GAAjB,EAAsB;WAClBJ,QAAQI,GAAR,IAAeA,GAAf,GAAqB,CAACA,GAAD,CAA5B;;;AAGJ,AAAO,SAASC,WAAT,CAAqBD,GAArB,EAA0B;WACtBA,QAAQE,SAAf;;;AAGJ,AAAO,SAASC,mBAAT,CAA6BC,CAA7B,EAAgC;WAC5B,CAACH,YAAYG,EAAEnB,SAAd,CAAD,IAA6B,CAACgB,YAAYG,EAAEnB,SAAF,CAAYoB,MAAxB,CAArC;;;AAGJ,AAAO,SAASC,QAAT,CAAkBN,GAAlB,EAAuB;WACnB,OAAOA,GAAP,KAAe,QAAtB;;;AAIJ,AAAO,SAASO,QAAT,CAAkBP,GAAlB,EAAuB;WACnB,OAAOA,GAAP,KAAe,QAAtB;;;AAGJ,AAAO,SAASQ,MAAT,CAAgBR,GAAhB,EAAqB;WACjBA,QAAQ,IAAf;;;AAGJ,AAAO,SAASS,MAAT,CAAgBT,GAAhB,EAAqB;WACjBA,QAAQ,IAAf;;;AAGJ,AAAO,SAASU,gBAAT,CAA0BV,GAA1B,EAA+B;WAC3BM,SAASN,GAAT,KAAiBO,SAASP,GAAT,CAAxB;;;AAGJ,AAAO,SAASW,aAAT,CAAuBX,GAAvB,EAA4B;WACxBC,YAAYD,GAAZ,KAAoBS,OAAOT,GAAP,CAA3B;;;AAGJ,AAAO,SAASY,SAAT,CAAmBZ,GAAnB,EAAwB;WACpBS,OAAOT,GAAP,KAAeA,QAAQ,KAAvB,IAAgCQ,OAAOR,GAAP,CAAhC,IAA+CC,YAAYD,GAAZ,CAAtD;;;AAGJ,AAAO,SAASa,UAAT,CAAoBb,GAApB,EAAyB;WACrB,OAAOA,GAAP,KAAe,UAAtB;;;AAGJ,AAAO,SAASc,aAAT,CAAuBC,IAAvB,EAA6B;WACzBA,KAAK,CAAL,MAAY,GAAZ,IAAmBA,KAAK,CAAL,MAAY,GAA/B,IAAsCA,KAAKC,MAAL,GAAc,CAA3D;;;AAGJ,AAAO,SAASC,SAAT,CAAmBjB,GAAnB,EAAwB;WACpBA,QAAQE,SAAf;;;AAGJ,AAAO,SAASgB,QAAT,CAAkBd,CAAlB,EAAqB;WACjB,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAApB;;;AAGJ,AAAO,SAASe,KAAT,CAAenB,GAAf,EAAoB;WAChBA,OAAOA,IAAIoB,QAAJ,KAAiB,CAAxB,IACH,OAAOpB,IAAIqB,QAAX,IAAwB,QAD5B;;;AAIJ,AAAO,SAASC,UAAT,CAAoBC,OAApB,EAA6B;QAC5B,CAACA,OAAL,EAAc;kBACA,0BAAV;;UAEE,IAAIC,KAAJ,mBAA2BD,OAA3B,CAAN;;;AAGJ,AAAO,SAASE,OAAT,CAAiBC,GAAjB,EAAsB;QACrBC,OAAJ,EAAa;gBACDC,IAAR,CAAaF,GAAb;;;;AAIR,AAAO;;AAEP,AAAO,SAASG,QAAT,CAAkBC,GAAlB,EAAuBC,IAAvB,EAA6BC,KAA7B,EAAoC;aAC9BC,CAAT,GAAa;MACXhD,SAAF,GAAc8C,KAAK9C,SAAnB;QACIA,SAAJ,GAAgB,IAAIgD,CAAJ,EAAhB;;QAEID,KAAJ,EAAW;aACF,IAAIE,IAAT,IAAiBF,KAAjB,EAAwB;gBAChB/C,SAAJ,CAAciD,IAAd,IAAsBF,MAAME,IAAN,CAAtB;;;;QAIJC,WAAJ,GAAkBL,GAAlB;;;;;;;;;AAUJ,AAAO,SAASM,IAAT,CAAcpC,GAAd,EAAmBqC,EAAnB,EAAuBC,OAAvB,EAAgC;QAC/B,EAAEtC,OAAOqC,EAAT,CAAJ,EAAkB;;;QAGdrC,IAAIb,OAAJ,IAAea,IAAIb,OAAJ,KAAgBD,aAAnC,EAAkD;YAC1CC,OAAJ,CAAYkD,EAAZ,EAAgBC,OAAhB;KADJ,MAEO,IAAItC,IAAIgB,MAAJ,KAAe,CAAChB,IAAIgB,MAAxB,EAAgC;aAC9B,IAAIuB,IAAI,CAAR,EAAWC,MAAMxC,IAAIgB,MAA1B,EAAkCuB,IAAIC,GAAtC,EAA2CD,GAA3C,EAAgD;eACzCzC,IAAH,CAAQwC,OAAR,EAAiBtC,IAAIuC,CAAJ,CAAjB,EAAyBA,CAAzB,EAA4BvC,GAA5B;;KAFD,MAIA;aACE,IAAIyC,GAAT,IAAgBzC,GAAhB,EAAqB;gBACbA,IAAI0C,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B;mBACtB3C,IAAH,CAAQwC,OAAR,EAAiBtC,IAAIyC,GAAJ,CAAjB,EAA2BA,GAA3B,EAAgCzC,GAAhC;;;;;;;;;;;;;AAahB,AAAO,SAASX,GAAT,CAAaW,GAAb,EAAkBqC,EAAlB,EAAsBC,OAAtB,EAA+B;QAC9B,EAAEtC,OAAOqC,EAAT,CAAJ,EAAkB;;;QAGdrC,IAAIX,GAAJ,IAAWW,IAAIX,GAAJ,KAAYD,SAA3B,EAAsC;eAC3BY,IAAIX,GAAJ,CAAQgD,EAAR,EAAYC,OAAZ,CAAP;KADJ,MAEO;YACCK,SAAS,EAAb;aACK,IAAIJ,IAAI,CAAR,EAAWC,MAAMxC,IAAIgB,MAA1B,EAAkCuB,IAAIC,GAAtC,EAA2CD,GAA3C,EAAgD;mBACrCK,IAAP,CAAYP,GAAGvC,IAAH,CAAQwC,OAAR,EAAiBtC,IAAIuC,CAAJ,CAAjB,EAAyBA,CAAzB,EAA4BvC,GAA5B,CAAZ;;eAEG2C,MAAP;;;;;;;;;;;AAWR,AAAO,SAASpD,MAAT,CAAgBS,GAAhB,EAAqBqC,EAArB,EAAyBC,OAAzB,EAAkC;QACjC,EAAEtC,OAAOqC,EAAT,CAAJ,EAAkB;;;QAGdrC,IAAIT,MAAJ,IAAcS,IAAIT,MAAJ,KAAeD,YAAjC,EAA+C;eACpCU,IAAIT,MAAJ,CAAW8C,EAAX,EAAeC,OAAf,CAAP;KADJ,MAEO;YACCK,SAAS,EAAb;aACK,IAAIJ,IAAI,CAAR,EAAWC,MAAMxC,IAAIgB,MAA1B,EAAkCuB,IAAIC,GAAtC,EAA2CD,GAA3C,EAAgD;gBACxCF,GAAGvC,IAAH,CAAQwC,OAAR,EAAiBtC,IAAIuC,CAAJ,CAAjB,EAAyBA,CAAzB,EAA4BvC,GAA5B,CAAJ,EAAsC;uBAC3B4C,IAAP,CAAY5C,IAAIuC,CAAJ,CAAZ;;;eAGDI,MAAP;;;;AAIR,AAAO,SAASE,IAAT,CAAcC,IAAd,EAAoBR,OAApB,EAA6B;WACzB,YAAW;aACTS,KAAL,CAAWT,OAAX,EAAoBU,SAApB;KADJ;;;AAKJ,AAAO,IAAIC,UAAU,UAASC,KAAT,EAAgB;QAC7BC,SAAS,EAAb;QACIC,MAAM,CADV;SAEK,IAAIb,IAAI,CAAR,EAAWvB,SAASkC,SAASA,MAAMlC,MAAxC,EAAgDuB,IAAIvB,MAApD,EAA4DuB,GAA5D,EAAiE;YACzDc,QAAQH,MAAMX,CAAN,CAAZ;YACI3C,QAAQyD,KAAR,CAAJ,EAAoB;oBACRJ,QAAQI,KAAR,CAAR;gBACIC,IAAI,CAAR;gBACId,MAAMa,MAAMrC,MADhB;mBAEOA,MAAP,IAAiBwB,GAAjB;mBACOc,IAAId,GAAX,EAAgB;uBACLY,KAAP,IAAgBC,MAAMC,GAAN,CAAhB;;SANR,MAQO;mBACIF,KAAP,IAAgBC,KAAhB;;;WAGDF,MAAP;CAjBG;;AAoBP,AAAO,SAASI,MAAT,CAAgBC,MAAhB,EAAwB;QACvB/D,OAAO8D,MAAX,EAAmB;eACR9D,OAAO8D,MAAP,CAAcR,KAAd,CAAoBtD,MAApB,EAA4BuD,SAA5B,CAAP;;;QAGAQ,WAAWtD,SAAX,IAAwBsD,WAAW,IAAvC,EAA6C;cACnC,IAAIC,SAAJ,CAAc,4CAAd,CAAN;;;QAGAN,SAAS1D,OAAO+D,MAAP,CAAb;SACK,IAAIE,QAAQ,CAAjB,EAAoBA,QAAQV,UAAUhC,MAAtC,EAA8C0C,OAA9C,EAAuD;YAC/CC,SAASX,UAAUU,KAAV,CAAb;YACIC,WAAWzD,SAAX,IAAwByD,WAAW,IAAvC,EAA6C;iBACpC,IAAIC,OAAT,IAAoBD,MAApB,EAA4B;oBACpBA,OAAOjB,cAAP,CAAsBkB,OAAtB,CAAJ,EAAoC;2BACzBA,OAAP,IAAkBD,OAAOC,OAAP,CAAlB;;;;;WAKTT,MAAP;;;AC/NG,IAAIU,YAAY,CAAC,EAAE,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,OAAOC,QAAxC,IAAoDD,OAAOC,QAAP,CAAgBC,aAAtE,CAAjB;;AAEP,AAAO;;AAEP,AAAO,IAAIC,YAAYJ,aAAaE,QAAb,IAA0B,YAAW;QACpDG,UAAU,CAAd;QACIC,MAAMJ,SAASC,aAAT,CAAuB,KAAvB,CADV;QAEII,SAASD,IAAIE,oBAAJ,CAAyB,GAAzB,CAFb;;;WAMIF,IAAIG,SAAJ,GAAgB,mBAAoB,EAAEJ,OAAtB,GAAiC,uBAAjD,EACAE,OAAO,CAAP,CAFJ,EAGE;WACKF,UAAU,CAAV,GAAcA,OAAd,GAAwBhE,SAA/B;CAV6C,EAA1C;;AAaP,AAAO,IAAIqE,OAAOV,aAAa,CAACI,SAAzB;;AChBP,IAAIO,oBAAoB;aACX;CADb,CAIA;;ACYO,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,WAAhC,EAA6C;QAC5CC,WAAW,EAAf;;SAEK,IAAIrC,IAAI,CAAb,EAAgBA,IAAImC,MAAM1D,MAA1B,EAAkCuB,GAAlC,EAAuC;YAC/BsC,IAAIH,MAAMnC,CAAN,CAAR;YACI3B,UAAUiE,CAAV,CAAJ,EAAkB;;;YACdnE,iBAAiBmE,CAAjB,CAAJ,EAAyB;gBACjBC,gBAAgBD,CAAhB,CAAJ;;;UAGFF,WAAF,GAAgBA,WAAhB;;iBAES/B,IAAT,CAAciC,CAAd;;;WAGGD,SAAS5D,MAAT,GAAkB,CAAlB,GAAsB4D,QAAtB,GAAiC,IAAxC;;;AAGJ,SAASG,iBAAT,CAA2BC,QAA3B,EAAqCL,WAArC,EAAkD;QAC1C/E,QAAQoF,QAAR,CAAJ,EAAuB;eACZP,gBAAgBO,QAAhB,EAA0BL,WAA1B,CAAP;KADJ,MAEO,IAAIjE,iBAAiBsE,QAAjB,CAAJ,EAAgC;mBACxBF,gBAAgBE,QAAhB,CAAX;;QAEAC,QAAQD,QAAR,CAAJ,EAAuB;iBACVL,WAAT,GAAuBA,WAAvB;;WAEGK,QAAP;;;AAGJ,AAAO,SAASE,SAAT,CAAmBC,KAAnB,EAA0B;QACvBC,cAAcC,iBAAiBF,KAAjB,CAApB;;QAEI,CAACvE,UAAUuE,MAAMH,QAAhB,CAAL,EAAgC;cACtBA,QAAN,GAAiBD,kBAAkBI,MAAMH,QAAxB,EAAkCI,cAAc,IAAd,GAAqBD,KAAvD,CAAjB;;;QAGAC,WAAJ,EAAiB;YACT,CAACD,MAAMG,KAAX,EAAkB;kBACRA,KAAN,GAAc,EAAd;;cAEEA,KAAN,CAAYN,QAAZ,GAAuBG,MAAMH,QAA7B;cACMA,QAAN,GAAiB,IAAjB;;;;AC/BD,SAASC,OAAT,CAAiBM,KAAjB,EAAwB;WACpBA,SAASrE,SAASqE,KAAT,CAAT,IAA4BA,MAAMC,SAAzC;;;AAGJ,AAAO,IAAIC,iBAAiBR,OAArB;;AAEP,AAAO,SAASS,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqC;QACpCC,SAASF,OAAOlD,GAAP,KAAemD,OAAOnD,GAAtB,IAA6BkD,OAAOG,IAAP,KAAgBF,OAAOE,IAAjE;QACID,UAAUtB,IAAV,IAAkBN,YAAY,CAA9B,IAAmC0B,OAAOI,GAAP,CAAWC,OAAX,CAAmBC,WAAnB,OAAqC,OAA5E,EAAqF;iBACxEN,OAAOL,KAAP,CAAaQ,IAAb,KAAsBF,OAAON,KAAP,CAAaQ,IAA5C;;WAEGD,MAAP;;;AAGJ,AAAO,SAASK,WAAT,CAAqBf,KAArB,EAA4B;WACxBA,MAAMW,IAAN,KAAe,UAAtB;;;AAGJ,AAAO,SAASK,WAAT,CAAqBhB,KAArB,EAA4B;WACxBA,MAAMW,IAAN,KAAe,OAAtB;;;AAGJ,AAAO,SAASM,cAAT,CAAwBjB,KAAxB,EAA+B;WAC3B7E,SAAS6E,MAAMW,IAAf,KAAwBX,MAAMW,IAAN,CAAW,CAAX,MAAkB,GAAjD;;;AAGJ,AAAO,SAAST,gBAAT,CAA0BF,KAA1B,EAAiC;WAC7B,CAAC7E,SAAS6E,MAAMW,IAAf,CAAR,CADoC;;;AAIxC,AAAO,SAASO,WAAT,CACHP,IADG,EAEHR,KAFG,EAGHN,QAHG,EAIHsB,MAJG,EAKHC,KALG,EAMHC,GANG,EAOH/D,GAPG,EAQHgE,KARG,EASHC,KATG,EAWL;QADEC,WACF,uEADgB,KAChB;;QACMxB,QAAQ;mBACG,IADH;cAEFW,IAFE;aAGHrD,QAAQvC,SAAR,GAAoB,IAApB,GAA2BuC,GAHxB;aAIH+D,QAAQtG,SAAR,GAAoB,IAApB,GAA2BsG,GAJxB;eAKDlB,UAAUpF,SAAV,GAAsB,IAAtB,GAA6BoF,KAL5B;eAMDmB,UAAUvG,SAAV,GAAsB,IAAtB,GAA6BuG,KAN5B;kBAOEzB,aAAa9E,SAAb,GAAyB,IAAzB,GAAgC8E,QAPlC;qBAQK,IARL;gBASAsB,UAAU,IATV;eAUDC,SAAS,IAVR;aAWH,IAXG;gBAYAG,SAAS;KAZrB;;QAeI,CAACC,WAAL,EAAkB;kBACJxB,KAAV;;;WAGGA,KAAP;;;AAGJ,AAAO,SAASyB,eAAT,GAA2B;WACvBP,YAAY,UAAZ,CAAP;;;AAGJ,AAAO,IAAMQ,aAAaD,iBAAnB;;AAEP,AAAO;;AAEP,AAAO,SAAS9B,eAAT,CAAyBgC,IAAzB,EAA+B;WAC3BT,YAAY,OAAZ,EAAqB,IAArB,EAA2BS,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,KAAzD,EAAgE,IAAhE,EAAsE,IAAtE,CAAP;;;AAGJ,AAAO;;AAEP,AAAO,SAAS9C,aAAT,CAAuB8B,IAAvB,EAA6BiB,MAA7B,EAAmD;QAClDnG,UAAUkF,IAAV,KAAmB5E,SAAS4E,IAAT,CAAvB,EAAuC;cAC7B,IAAItE,KAAJ,CAAU,+HAAV,CAAN;;;sCAFuCwF,SAAW;iBAAA;;;QAKlD9E,aAAJ;QAAU8C,WAAW/B,QAAQ+D,SAAR,CAArB;QACI1B,QAAQ,EADZ;QAEIgB,SAAS,IAFb;QAGIC,QAAQ,IAHZ;QAII9D,MAAM,IAJV;QAKI+D,MAAM,IALV;QAMIC,QAAQ,KANZ;;QAQIzB,SAAShE,MAAT,KAAoB,CAAxB,EAA2B;mBACZgE,SAAS,CAAT,CAAX;KADJ,MAEO,IAAIA,SAAShE,MAAT,KAAoB,CAAxB,EAA2B;mBACnB,IAAX;;;QAGA,CAACL,cAAcoG,MAAd,CAAL,EAA4B;aACnB7E,IAAL,IAAa6E,MAAb,EAAqB;;gBAEb7E,SAAS,KAAb,EAAoB;sBACV,KAAK6E,OAAOtE,GAAlB;aADJ,MAEO,IAAIP,SAAS,KAAb,EAAoB;sBACjB6E,OAAOP,GAAb;aADG,MAEA,IAAItE,SAAS,OAAb,EAAsB;wBACjB6E,OAAOR,KAAf;aADG,MAEA,IAAIzF,cAAcoB,IAAd,KAAuB5B,SAASwF,IAAT,CAA3B,EAA2C;oBAC1C,CAACQ,MAAL,EAAa;6BACA,EAAT;;uBAEGpE,KAAK+D,WAAL,EAAP,IAA6Bc,OAAO7E,IAAP,CAA7B;aAJG,MAKA;sBACGA,IAAN,IAAc6E,OAAO7E,IAAP,CAAd;;;;;;;QAOR,CAAC5B,SAASwF,IAAT,CAAL,EAAqB;YACbA,KAAKmB,YAAT,EAAuB;gBACfA,eAAenB,KAAKmB,YAAxB;iBACK/E,IAAL,IAAa+E,YAAb,EAA2B;oBACnB3B,MAAMpD,IAAN,MAAgBhC,SAApB,EAA+B;;0BACrBgC,IAAN,IAAc+E,aAAa/E,IAAb,CAAd;;;;;;QAMZ,CAAC8C,QAAD,IAAaM,MAAMN,QAAvB,EAAiC;mBAClBM,MAAMN,QAAjB;;;WAGGM,MAAMN,QAAb;;;;QAIIc,QAAQA,KAAK,CAAL,MAAY,GAApB,IAA2BA,KAAK,CAAL,MAAY,GAAvC,IAA8CA,KAAK,CAAL,MAAY,GAA9D,EAAmE;gBACvD,IAAR;;;QAGAxF,SAASwF,IAAT,CAAJ,EAAoB;YACZR,MAAM4B,uBAAN,IAAiC,CAACvG,cAAcqE,QAAd,CAAtC,EAA+D;uBAChD,mEAAX;;;;WAIDqB,YAAYP,IAAZ,EAAkBR,KAAlB,EAAyBN,QAAzB,EAAmCsB,MAAnC,EAA2CC,KAA3C,EAAkDC,GAAlD,EAAuD/D,GAAvD,EAA4DgE,KAA5D,EAAmEjC,kBAAkB2C,OAArF,CAAP;;;AAGJ,AAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA+BN,MAA/B,EAAqD;QACpDZ,YAAYkB,OAAZ,CAAJ,EAA0B;eACfvC,gBAAgBuC,QAAQrC,QAAxB,CAAP;;QAEAkB,YAAYmB,OAAZ,CAAJ,EAA0B;eACfT,iBAAP;;;uCALyCI,SAAW;iBAAA;;;QAOpD9E,aAAJ;QAAUK,UAAV;QAAa+E,cAAb;QAAoBtC,WAAW/B,QAAQ+D,SAAR,CAA/B;QACIlB,OAAOuB,QAAQvB,IADnB;QAEIR,QAAQ/B,OAAO,EAAP,EAAW8D,QAAQ/B,KAAnB,CAFZ;;QAIIN,SAAShE,MAAT,KAAoB,CAAxB,EAA2B;mBACZgE,SAAS,CAAT,CAAX;KADJ,MAEO,IAAIA,SAAShE,MAAT,KAAoB,CAAxB,EAA2B;mBACnB,IAAX;;;QAGAyB,MAAM4E,QAAQ5E,GAAlB;QACI+D,MAAMa,QAAQb,GAAlB;QACID,QAAQc,QAAQd,KAApB;QACID,SAASe,QAAQf,MAArB;;QAEII,QAAQW,QAAQE,MAApB;;QAEI,CAAC5G,cAAcoG,MAAd,CAAL,EAA4B;aACnB7E,IAAL,IAAa6E,MAAb,EAAqB;;gBAEb7E,SAAS,KAAb,EAAoB;sBACV,KAAK6E,OAAOtE,GAAlB;aADJ,MAEO,IAAIP,SAAS,KAAb,EAAoB;sBACjB,KAAK6E,OAAOP,GAAlB;aADG,MAEA,IAAItE,SAAS,OAAb,EAAsB;wBACjB6E,OAAOR,KAAf;aADG,MAEA,IAAIzF,cAAcoB,IAAd,KAAuB5B,SAASwF,IAAT,CAA3B,EAA2C;oBAC1C,CAACQ,MAAL,EAAa;6BACA,EAAT;;uBAEGpE,KAAK+D,WAAL,EAAP,IAA6Bc,OAAO7E,IAAP,CAA7B;aAJG,MAKA;sBACGA,IAAN,IAAc6E,OAAO7E,IAAP,CAAd;;;;;;;QAOR,CAAC5B,SAASwF,IAAT,CAAL,EAAqB;YACbA,KAAKmB,YAAT,EAAuB;gBACfA,eAAenB,KAAKmB,YAAxB;iBACK/E,IAAL,IAAa+E,YAAb,EAA2B;oBACnB3B,MAAMpD,IAAN,MAAgBhC,SAApB,EAA+B;;0BACrBgC,IAAN,IAAc+E,aAAa/E,IAAb,CAAd;;;;;;QAMZzB,OAAOuE,QAAP,CAAJ,EAAsB;mBACPK,iBAAiBgC,OAAjB,IAA4BA,QAAQ/B,KAAR,CAAcN,QAA1C,GAAqDqC,QAAQrC,QAAxE;;;QAGAA,QAAJ,EAAc;YACNpF,QAAQoF,QAAR,CAAJ,EAAuB;iBACdzC,IAAI,CAAT,EAAYA,IAAIyC,SAAShE,MAAzB,EAAiCuB,GAAjC,EAAsC;wBAC1ByC,SAASzC,CAAT,CAAR;yBACSA,CAAT,IAAc+E,SAASrC,QAAQqC,KAAR,CAAT,GAA0BF,aAAaE,KAAb,CAA1B,GAAgDA,KAA9D;;SAHR,MAKO;uBACQF,aAAapC,QAAb,CAAX;;;;;WAKDqB,YAAYP,IAAZ,EAAkBR,KAAlB,EAAyBN,QAAzB,EAAmCsB,MAAnC,EAA2CC,KAA3C,EAAkDC,GAAlD,EAAuD/D,GAAvD,EAA4D4E,QAAQZ,KAApE,EAA2EjC,kBAAkB2C,OAA7F,CAAP;;;AC3PW,SAASK,aAAT,GAAyB;SAC/BC,SAAL,GAAiB,EAAjB;;AAEJD,cAAcvI,SAAd,CAAwByI,OAAxB,GAAkC,UAASC,QAAT,EAAmB;SAC5CF,SAAL,CAAe7E,IAAf,CAAoB+E,QAApB;CADJ;;AAIAH,cAAcvI,SAAd,CAAwB2I,SAAxB,GAAoC,YAAW;SACtC,IAAIrF,IAAI,CAAb,EAAgBA,IAAI,KAAKkF,SAAL,CAAezG,MAAnC,EAA2CuB,GAA3C,EAAgD;aACvCkF,SAAL,CAAelF,CAAf;;SAECkF,SAAL,CAAezG,MAAf,GAAwB,CAAxB;CAJJ;;ACPO,SAAS6G,gBAAT,CAA0BC,SAA1B,EAAqCC,SAArC,EAAgD;QAC7CC,UAAUF,UAAUtB,GAA1B;QACMyB,UAAUF,UAAUvB,GAA1B;QACM0B,YAAYJ,UAAUP,MAA5B;QACMY,YAAYJ,UAAUR,MAA5B;WACOS,YAAYC,OAAZ,IACH,OAAOA,OAAP,KAAmB,QAAnB,IAA+BE,cAAcD,SADjD;;;AAIJ,AAAO,SAASE,SAAT,CAAmBjD,KAAnB,EAA0B;QACzBqB,MAAMrB,MAAMqB,GAAhB;QACIE,QAAQvB,MAAMoC,MAAlB;;QAEI,OAAOf,GAAP,KAAe,UAAnB,EAA+B;YACvB,IAAJ;KADJ,MAEO,IAAIA,OAAOE,KAAX,EAAkB;eACdA,MAAM2B,IAAN,CAAW7B,GAAX,CAAP;;;;AAIR,AAAO,SAAS8B,SAAT,CAAmBnD,KAAnB,EAA0B;QACzBqB,MAAMrB,MAAMqB,GAAhB;QACIE,QAAQvB,MAAMoC,MAAlB;QACI/D,SAAS2B,MAAMoD,SAAN,IAAmBpD,MAAMY,GAAtC;;QAEI,OAAOS,GAAP,KAAe,UAAnB,EAA+B;YACvBhD,MAAJ;KADJ,MAEO,IAAIgD,OAAOE,KAAX,EAAkB;cACf2B,IAAN,CAAW7B,GAAX,IAAkBhD,MAAlB;;;;AChBR,SAASgF,KAAT,CAAe3I,CAAf,EAAkB;WACPA,EAAE4I,OAAF,CAAU,IAAV,EAAgB,EAAhB,CAAP;;;AAGJ,SAASC,aAAT,CAAuBC,OAAvB,EAAgCC,KAAhC,EAAuCC,KAAvC,EAA8C;QACtCC,KAAKF,MAAM7C,GAAf;QACI,OAAO4C,OAAP,KAAmB,UAAvB,EAAmC;;gBAEvB7I,IAAR,CAAagJ,EAAb,EAAiBD,KAAjB,EAAwBD,KAAxB;KAFJ,MAGO,IAAI1H,SAASyH,OAAT,CAAJ,EAAuB;;YAEtB,OAAOA,QAAQ,CAAR,CAAP,KAAsB,UAA1B,EAAsC;;gBAE9BA,QAAQ3H,MAAR,KAAmB,CAAvB,EAA0B;wBACd,CAAR,EAAWlB,IAAX,CAAgBgJ,EAAhB,EAAoBH,QAAQ,CAAR,CAApB,EAAgCE,KAAhC,EAAuCD,KAAvC;aADJ,MAEO;oBACCG,OAAOJ,QAAQK,KAAR,CAAc,CAAd,CAAX;qBACKpG,IAAL,CAAUiG,KAAV;qBACKjG,IAAL,CAAUgG,KAAV;wBACQ,CAAR,EAAW7F,KAAX,CAAiB+F,EAAjB,EAAqBC,IAArB;;SARR,MAUO;;iBAEE,IAAIxG,IAAI,CAAb,EAAgBA,IAAIoG,QAAQ3H,MAA5B,EAAoCuB,GAApC,EAAyC;8BACvBoG,QAAQpG,CAAR,CAAd,EAA0BqG,KAA1B,EAAiCC,KAAjC;;;;;;AAMhB,SAASI,WAAT,CAAqBJ,KAArB,EAA4BD,KAA5B,EAAmC;QAC3BM,OAAO,OAAOL,MAAM/C,IAAxB;QACIqD,KAAKP,MAAMtC,MADf;;;QAII6C,MAAMA,GAAGD,IAAH,CAAV,EAAoB;sBACFC,GAAGD,IAAH,CAAd,EAAwBN,KAAxB,EAA+BC,KAA/B;;;;AAIR,SAASO,cAAT,GAA0B;aACbT,OAAT,CAAiBU,CAAjB,EAAoB;YACZA,KAAKR,KAAT;oBACYQ,CAAZ,EAAeV,QAAQC,KAAvB;;WAEGD,OAAP;;;AAGJ,AAAO,SAASW,eAAT,CAAyBnE,KAAzB,EAAgC;oBACnB0B,UAAhB,EAA4B1B,KAA5B;;;AAGJ,AAAO,SAASoE,eAAT,CAAyBC,QAAzB,EAAmCZ,KAAnC,EAA0C;QACzCa,QAAQD,SAASlD,MAArB;QACIoD,cAAcF,SAASG,SAD3B;QAEIC,SAASJ,SAASzD,GAFtB;QAGIoD,KAAKP,SAASA,MAAMtC,MAHxB;QAIIuD,MAAMjB,SAASA,MAAM7C,GAJzB;QAKImD,IALJ;;;QAQIO,UAAUN,EAAd,EAAkB;;;;;QAKdM,SAASC,WAAb,EAA0B;;YAElB,CAACP,EAAL,EAAS;iBACAD,IAAL,IAAaO,KAAb,EAAoB;;oCAEIG,MAApB,EAA4BpB,MAAMU,IAAN,CAA5B,EAAyCQ,WAAzC;;SAHR,MAKO;iBACER,IAAL,IAAaO,KAAb,EAAoB;;oBAEZ,CAACN,GAAGD,IAAH,CAAL,EAAe;wCACSU,MAApB,EAA4BpB,MAAMU,IAAN,CAA5B,EAAyCQ,WAAzC;;;;;;;QAOZP,EAAJ,EAAQ;;YAEAW,WAAWlB,MAAMe,SAAN,GAAkBH,SAASG,SAAT,IAAsBP,gBAAvD;;iBAESR,KAAT,GAAiBA,KAAjB;;;YAGI,CAACa,KAAL,EAAY;iBACHP,IAAL,IAAaC,EAAb,EAAiB;;iCAEIU,GAAjB,EAAsBrB,MAAMU,IAAN,CAAtB,EAAmCY,QAAnC;;SAHR,MAKO;iBACEZ,IAAL,IAAaC,EAAb,EAAiB;;oBAET,CAACM,MAAMP,IAAN,CAAL,EAAkB;qCACGW,GAAjB,EAAsBrB,MAAMU,IAAN,CAAtB,EAAmCY,QAAnC;;;;;;;AAOpB,AAAO,SAASC,gBAAT,CAA0B5E,KAA1B,EAAiC;oBACpBA,KAAhB,EAAuB0B,UAAvB;;;AC1FJ,SAASmD,iBAAT,CAA2B7E,KAA3B,EAAkC8E,SAAlC,EAA6C;QACrCA,SAAJ,EAAe;oBACCA,SAAZ,EAAuB9E,MAAMY,GAA7B;;;;AAIR,SAASmE,eAAT,CAAyBlF,QAAzB,EAAmC2C,QAAnC,EAA6C;QACrC/H,QAAQoF,QAAR,CAAJ,EAAuB;aACd,IAAIzC,IAAI,CAAb,EAAgBA,IAAIyC,SAAShE,MAA7B,EAAqCuB,GAArC,EAA0C;gBAChC+E,QAAQtC,SAASzC,CAAT,CAAd;;gBAEI,CAAC3B,UAAU0G,KAAV,CAAD,IAAqBrC,QAAQqC,KAAR,CAAzB,EAAyC;wBAC7BA,KAAR,EAAe,IAAf,EAAqBK,QAArB;;;KALZ,MAQO,IAAI1C,QAAQD,QAAR,CAAJ,EAAuB;gBAClBA,QAAR,EAAkB,IAAlB,EAAwB2C,QAAxB;;;;AAIR,AAAO,SAASwC,cAAT,CAAwBhF,KAAxB,EAA+B8E,SAA/B,EAA0CtC,QAA1C,EAAoD;QACjD5B,MAAMZ,MAAMY,GAAlB;QACMO,SAASnB,MAAMmB,MAArB;QACMC,QAAQpB,MAAMoB,KAAN,IAAe,EAA7B;QACMvB,WAAWG,MAAMH,QAAvB;;QAEI,CAACvE,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;kBACVrB,KAAV;;;qBAGaA,KAAjB;;QAEI8E,SAAJ,EAAe;oBACCA,SAAZ,EAAuBlE,GAAvB;;;QAGA,CAACpF,cAAcqE,QAAd,CAAL,EAA8B;wBACVA,QAAhB,EAA0B2C,QAA1B;;;QAGApB,MAAM6D,OAAV,EAAmB;cACTA,OAAN,CAAcjF,KAAd;;;;AAKR,AAAO,SAASkF,gBAAT,CAA0BlF,KAA1B,EAAiC8E,SAAjC,EAA4CtC,QAA5C,EAAsD;QACnD2C,OAAOnF,MAAMoD,SAAnB;QACMgC,UAAUpK,oBAAoBgF,MAAMW,IAA1B,CAAhB;QACMd,WAAWG,MAAMH,QAAvB;QACMM,QAAQH,MAAMG,KAApB;QACMiB,QAAQpB,MAAMoB,KAAN,IAAe,EAA7B;QACMR,MAAMZ,MAAMY,GAAlB;;QAEIkE,SAAJ,EAAe;oBACCA,SAAZ,EAAuB9E,MAAMY,GAA7B;;;QAGAwE,OAAJ,EAAa;YACL,CAACD,KAAKE,UAAV,EAAsB;iBACbC,eAAL,GAAuB,IAAvB;;gBAEIH,KAAKI,oBAAT,EAA+B;qBACtBA,oBAAL;;;gBAGA,CAACjK,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;0BACVrB,KAAV;;;oBAGIH,QAAR,EAAkB,IAAlB,EAAwB2C,QAAxB;;iBAEK6C,UAAL,GAAkB,IAAlB;iBACKC,eAAL,GAAuB,KAAvB;;gBAEIH,KAAKK,mBAAT,EAA8B;qBAAMA,mBAAL;;;KAjBvC,MAmBO;YACC,CAAChK,cAAc2E,MAAMsF,sBAApB,CAAL,EAAkD;kBACxCA,sBAAN,CAA6BzF,KAA7B;;;YAGA,CAAC1E,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;sBACVrB,KAAV;;;gBAGIH,QAAR,EAAkB,IAAlB,EAAwB2C,QAAxB;;YAEI,CAAChH,cAAc2E,MAAMuF,qBAApB,CAAL,EAAiD;kBACvCA,qBAAN,CAA4B1F,KAA5B;;;;QAIJoB,MAAM6D,OAAV,EAAmB;cACTA,OAAN,CAAcjF,KAAd;;;;AAIR,AAAO,SAAS2F,OAAT,CAAiB3F,KAAjB,EAAwB8E,SAAxB,EAAmCtC,QAAnC,EAA6C;QAC5CoD,mBAAmBpK,cAAcgH,QAAd,CAAvB;eACWA,YAAY,IAAIH,aAAJ,EAAvB;;QAEIpB,eAAejB,KAAf,CAAJ,EAA2B;uBACRA,KAAf,EAAsB8E,SAAtB,EAAiCtC,QAAjC;KADJ,MAEO,IAAIzB,YAAYf,KAAZ,KAAsBgB,YAAYhB,KAAZ,CAA1B,EAA8C;0BAC/BA,KAAlB,EAAyB8E,SAAzB;KADG,MAEA,IAAI5E,iBAAiBF,KAAjB,CAAJ,EAA6B;yBACfA,KAAjB,EAAwB8E,SAAxB,EAAmCtC,QAAnC;;;QAGAoD,gBAAJ,EAAsB;iBACTnD,SAAT;;;;AC3IR,IAAMoD,QAAQ,4BAAd;;AAEA,AAAO,SAASC,WAAT,CAAqBhB,SAArB,EAAgClE,GAAhC,EAAqC;cAC9BkF,WAAV,CAAsBlF,GAAtB;;;AAGJ,AAAO,SAASmF,YAAT,CAAsBC,UAAtB,EAAkCC,OAAlC,EAA2CC,aAA3C,EAA0D;eAClDH,YAAX,CAAwBE,OAAxB,EAAiCC,aAAjC;;;AAGJ,AAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2B;WACvBA,KAAKD,WAAZ;;;AAGJ,AAAO,SAASE,WAAT,CAAqBvB,SAArB,EAAgClE,GAAhC,EAAqC;cAC9ByF,WAAV,CAAsBzF,GAAtB;;;AAGJ,AAAO,SAAS0F,qBAAT,CAA+BC,GAA/B,EAAoCjF,KAApC,EAA2C;QAC1CA,UAAU,IAAd,EAAoB;eACT1C,SAAS4H,eAAT,CAAyBX,KAAzB,EAAgCU,GAAhC,CAAP;KADJ,MAEO;eACI3H,SAASC,aAAT,CAAuB0H,GAAvB,CAAP;;;;AAIR,AAAO,SAASE,cAAT,CAAwBL,IAAxB,EAA8BzE,IAA9B,EAAoC;QACnCyE,KAAKnK,QAAL,KAAkB,CAAtB,EAAyB;aAChByK,IAAL,GAAY/E,IAAZ;KADJ,MAEO;YACC,iBAAiByE,IAArB,EAA2B;iBAClBO,WAAL,GAAmBhF,IAAnB;SADJ,MAEO;iBACEiF,SAAL,GAAiBjF,IAAjB;;;;;AAKZ,AAAO;;AAIP,AAAO,SAASkF,kBAAT,CAA4BC,QAA5B,EAAsCC,QAAtC,EAAgDjC,SAAhD,EAA2DtC,QAA3D,EAAqErF,OAArE,EAA8EmE,KAA9E,EAAqF;YAChFwF,QAAR,EAAkB,IAAlB;QACMlG,MAAMoG,MAAMD,QAAN,EAAgB,IAAhB,EAAsBvE,QAAtB,EAAgCrF,OAAhC,EAAyCmE,KAAzC,CAAZ;;aAESV,GAAT,GAAeA,GAAf;iBACakE,SAAb,EAAwBlE,GAAxB,EAA6BkG,SAASlG,GAAtC;;;AAGJ,AAAO,SAASqG,YAAT,CAAsBnC,SAAtB,EAAiCoC,OAAjC,EAA0CC,OAA1C,EAAmD;QAClD,CAACrC,SAAL,EAAgB;oBACAqC,QAAQnB,UAApB;;cAEMiB,YAAV,CAAuBC,OAAvB,EAAgCC,OAAhC;;;AAGJ,AAAO,SAASC,gBAAT,CAA0BhB,IAA1B,EAAgCrC,IAAhC,EAAsCsD,EAAtC,EAA0C;QACzC,OAAOjB,KAAKgB,gBAAZ,IAAgC,UAApC,EAAgD;aACvCA,gBAAL,CAAsBrD,IAAtB,EAA4BsD,EAA5B,EAAgC,KAAhC;KADJ,MAEO,IAAI,OAAOjB,KAAKkB,WAAZ,IAA2B,WAA/B,EAA4C;YAC3CC,kBAAkB,OAAOxD,IAA7B;aACKuD,WAAL,CAAiBC,eAAjB,EAAkCF,EAAlC;;;;AAIR,AAAO,SAASG,mBAAT,CAA6BpB,IAA7B,EAAmCrC,IAAnC,EAAyCsD,EAAzC,EAA6C;QAC5C,OAAOjB,KAAKoB,mBAAZ,IAAmC,UAAvC,EAAmD;aAC1CA,mBAAL,CAAyBzD,IAAzB,EAA+BsD,EAA/B,EAAmC,KAAnC;KADJ,MAEO,IAAI,OAAOjB,KAAKqB,WAAZ,IAA2B,WAA/B,EAA4C;YAC3CF,kBAAkB,OAAOxD,IAA7B;aACK0D,WAAL,CAAiBF,eAAjB,EAAkCF,EAAlC;;;;AClEO,SAASK,oBAAT,CAA8B1H,KAA9B,EAAqC7C,OAArC,EAA8CmE,KAA9C,EAAqD;QAC1DX,OAAOX,MAAMW,IAAnB;QACMR,QAAQH,MAAMG,KAAN,IAAe,EAA7B;QACMkB,MAAMrB,MAAMqB,GAAlB;;QAEIvG,YAAYqC,OAAZ,CAAJ,EAA0B;kBACZ,EAAV;;;QAGEgI,OAAO,IAAIxE,IAAJ,CAASR,KAAT,EAAgBhD,OAAhB,CAAb;;SAEKgD,KAAL,GAAaA,KAAb;SACKhD,OAAL,GAAeA,OAAf;SACK+F,IAAL,GAAY1I,WAAZ;;QAEImN,eAAexC,KAAKyC,KAAxB;QACID,iBAAiB5M,SAArB,EAAgC;aACvB6M,KAAL,GAAaD,eAAe,IAA5B;;;SAGCtC,UAAL,GAAkB,KAAlB;SACKwC,MAAL,GAAcvG,KAAd;;QAEMwG,eAAe3C,KAAK4C,eAAL,EAArB;;QAEI,CAACvM,cAAcsM,YAAd,CAAL,EAAkC;aACzBE,aAAL,GAAqB5J,OAAO,EAAP,EAAWjB,OAAX,EAAoB2K,YAApB,CAArB;KADJ,MAEO;aACEE,aAAL,GAAqB7K,OAArB;;;WAGGgI,IAAP;;;ACtCW,SAAS8C,cAAT,CAAwBjI,KAAxB,EAA+BY,GAA/B,EAAoC;;ACDnD,IAAIsH,0BAA0B,EAA9B,CAGA;;ACEA,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,MAAnC,EAA2CnK,KAA3C,EAAkD;QAC1CoK,IAAIF,OAAOG,KAAP,CAAa,GAAb,CAAR;SACK,IAAInL,IAAI,CAAb,EAAgBA,IAAIkL,EAAEzM,MAAtB,EAA8BuB,GAA9B,EAAmC;eACxBkL,EAAElL,CAAF,CAAP,IAAec,KAAf;;;;AAIR,AAAO,IAAMsK,UAAU,8BAAhB;AACP,AAAO,IAAMC,QAAQ,sCAAd;AACP,AAAO,AAAM5C;AACb,AAAO,IAAM6C,cAAc,EAApB;AACP,AAAO,IAAMC,eAAe,EAArB;AACP,AAAO,IAAMC,aAAa,EAAnB;AACP,AAAO,IAAMC,mBAAmB,EAAzB;AACP,AAAO,IAAMC,YAAY,EAAlB;AACP,AAAO,IAAMC,gBAAgB;mBACV,gBADU;eAEd;CAFR;AAIP,AAAO,IAAMC,qBAAqB,8TAA3B;;AAEP,AAAO,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,WAAvB,EAAoCC,WAApC,EAAiD;WAC1CD,WAAV,SAAyBC,YAAYtI,WAAZ,EAAzB;;;AAGJqH,kBAAkB,2EAAlB,EAA+FS,UAA/F,EAA2GJ,OAA3G;AACAL,kBAAkB,6BAAlB,EAAiDS,UAAjD,EAA6DH,KAA7D;AACAN,kBAAkB,2BAAlB,EAA+CO,WAA/C,EAA4D,IAA5D;AACAP,kBAAkB,kBAAlB,EAAsCW,SAAtC,EAAiD,IAAjD;;AAEAX,kBAAkB,2KAAlB,EAA+LQ,YAA/L,EAA6M,IAA7M;;AAEAR,kBAAkB,iZAAlB,EAAqaU,gBAAra,EAAub,IAAvb;;AAEA,IAAIQ,0BAA0B,KAA9B;AACA,IAAIC,qBAAqB,UAAzB;;AAEA,IAAI5K,SAAJ,EAAe;QACP6K,YAAY3K,SAASC,aAAT,CAAuB,KAAvB,EAA8B2K,KAA9C;QACI;;kBAEUC,IAAV,GAAiB,EAAjB;KAFJ,CAGE,OAAOvF,CAAP,EAAU;kCACkB,IAA1B;;;QAGAtF,SAAS8K,eAAT,CAAyBF,KAAzB,CAA+BG,QAA/B,KAA4C5O,SAAhD,EAA2D;6BAClC,YAArB;;;AAGR,AAMA;;;;;;;;;AASA,AAAO,IAAM6O,8BAA8B;gBAC3B;8BACc,IADd;yBAES,IAFT;yBAGS,IAHT;6BAIa,IAJb;6BAKa,IALb;0BAMU;KAPiB;wBASnB;6BACK,IADL;6BAEK;KAXc;YAa/B;qBACS,IADT;qBAES,IAFT;qBAGS;KAhBsB;kBAkBzB;2BACS,IADT;2BAES,IAFT;2BAGS;KArBgB;gBAuB3B;yBACS,IADT;yBAES,IAFT;yBAGS;KA1BkB;iBA4B1B;0BACS,IADT;0BAES,IAFT;0BAGS;KA/BiB;eAiC5B;wBACS,IADT;wBAES,IAFT;wBAGS;KApCmB;UAsCjC;mBACS,IADT;qBAEW,IAFX;oBAGU,IAHV;kBAIQ,IAJR;oBAKU,IALV;oBAMU;KA5CuB;aA8C9B;sBACS,IADT;sBAES,IAFT;sBAGS;;CAjDf;;ACxDP,IAAIC,MAAO,OAAOlL,MAAP,KAAkB,WAAlB,IAAiCA,OAAOmL,qBAAzC,IAAmEC,UAA7E;AACA,IAAIC,YAAY,UAAS3C,EAAT,EAAa;QAAM,YAAW;YAAMA,EAAJ;KAAjB;CAA/B;;AAEA,SAAS4C,YAAT,CAAsBpP,GAAtB,EAA2BkC,IAA3B,EAAiCmN,GAAjC,EAAsC;cACxB,YAAW;YAAMnN,IAAJ,IAAYmN,GAAZ;KAAvB;;;AAGJ,sBAAe,UAASC,SAAT,EAAoBC,SAApB,EAA+BrN,IAA/B,EAAqCuE,KAArC,EAA4CV,GAA5C,EAAiDZ,KAAjD,EAAwD;QAC/DmK,cAAcC,SAAlB,EAA6B;;;QACzBjP,SAASiP,SAAT,CAAJ,EAAyB;YACjBZ,KAAJ,CAAUa,OAAV,GAAoBD,SAApB;;;QAGAjP,SAASgP,SAAT,CAAJ,EAAyB;YACjBX,KAAJ,CAAUa,OAAV,GAAoB,EAApB;oBACY,EAAZ;;;QAGAC,GAAJ;QAASvG,IAAT;QAAeW,MAAM9D,GAArB;QACI2J,WAAW3J,IAAI4I,KADnB;QAEIgB,WAAWL,SAFf;QAGIX,QAAQY,SAHZ;;QAKI,CAACI,QAAD,IAAa,CAAChB,KAAlB,EAAyB;;;eACdgB,YAAYhQ,WAAvB;YACQgP,SAAShP,WAAjB;QACIiQ,YAAY,aAAaD,QAA7B;;SAEKzG,IAAL,IAAayG,QAAb,EAAuB;YACf,CAAChB,MAAMzF,IAAN,CAAL,EAAkB;gBACV2G,YAAYrB,2BAA2BO,4BAA4B7F,IAA5B,CAA3C;gBACI2G,SAAJ,EAAe;;;qBAGN,IAAIC,mBAAT,IAAgCD,SAAhC,EAA2C;6BAC9BC,mBAAT,IAAgC,EAAhC;;aAJR,MAMO;yBACM5G,IAAT,IAAiB,EAAjB;;;;SAIPA,IAAL,IAAayF,KAAb,EAAoB;cACVoB,oBAAoB7G,IAApB,EAA0ByF,MAAMzF,IAAN,CAA1B,CAAN;YACIA,SAAS,OAAT,IAAoBA,SAAS,UAAjC,EAA6C;mBAClCuF,kBAAP;;YAEAvF,SAAS,SAAb,EAAwB;iBACfA,IAAL,IAAayF,MAAMqB,OAAnB,EAA4B;sBAClBrB,MAAMqB,OAAN,CAAc9G,IAAd,CAAN;oBACI,CAAC0G,SAAD,IAAcH,QAAQE,SAASK,OAAT,CAAiB9G,IAAjB,CAA1B,EAAkD;iCACjCwG,QAAb,EAAuBxG,IAAvB,EAA6BuG,GAA7B;;;SAJZ,MAOO,IAAIA,QAAQE,SAASzG,IAAT,CAAZ,EAA4B;qBACtBA,IAAT,IAAiBuG,GAAjB;;;;;AAMZ,SAASM,mBAAT,CAA6B7G,IAA7B,EAAmC7F,KAAnC,EAA0C;QAClC4M,UAAU5M,SAAS,IAAT,IAAiB,OAAOA,KAAP,KAAiB,SAAlC,IAA+CA,UAAU,EAAvE;QACI4M,OAAJ,EAAa;eACF,EAAP;;;QAGAC,eAAeC,MAAM9M,KAAN,CAAnB;QACI6M,gBAAgB7M,UAAU,CAA1B,IAA+B2K,iBAAiB9E,IAAjB,CAAnC,EAA2D;eAChD,KAAK7F,KAAZ,CADuD;;;QAIvD,OAAOA,KAAP,KAAiB,QAArB,EAA+B;gBACnBA,MAAM+M,IAAN,EAAR;;WAEG/M,QAAQ,IAAf;;;AC3EJ,qBAAe,UAASiM,SAAT,EAAoBC,SAApB,EAA+BrN,IAA/B,EAAqCuE,KAArC,EAA4CV,GAA5C,EAAiDZ,KAAjD,EAAwD;QAC/DmK,cAAcC,SAAlB,EAA6B;;;QACzBtB,UAAU/L,IAAV,CAAJ,EAAqB;;;QAGjB4L,aAAa5L,IAAb,CAAJ,EAAwB;YAChBA,IAAJ,IAAYqN,YAAY,IAAZ,GAAmB,KAA/B;KADJ,MAEO,IAAI1B,YAAY3L,IAAZ,CAAJ,EAAuB;YACpBmB,QAAQ1C,cAAc4O,SAAd,IAA2B,EAA3B,GAAgCA,SAA9C;;YAEIxJ,IAAI7D,IAAJ,MAAcmB,KAAlB,EAAyB;gBACjBnB,IAAJ,IAAYmB,KAAZ;;KAJD,MAMA;YACC1C,cAAc4O,SAAd,KAA4BrN,SAAO,yBAAvC,EAAkE;gBAC1DmO,eAAJ,CAAoBnO,IAApB;SADJ,MAEO,IAAIA,SAAS,SAAb,EAAwB;gBACvBoO,YAAJ,CAAiB,KAAjB,EAAwBf,SAAxB;SADG,MAEA,IAAIrN,SAAS,WAAb,EAA0B;gBACzBuE,KAAJ,EAAW;oBACH6J,YAAJ,CAAiB,OAAjB,EAA0Bf,SAA1B;aADJ,MAEO;oBACCgB,SAAJ,GAAgBhB,SAAhB;;SAJD,MAMA,IAAIrN,SAAS,yBAAb,EAAwC;gBACrCsO,WAAWlB,aAAaA,UAAUmB,MAAxC;gBACMC,WAAWnB,aAAaA,UAAUkB,MAAxC;;gBAEID,aAAaE,QAAjB,EAA2B;oBACnB,CAAC/P,cAAc+P,QAAd,CAAL,EAA8B;wBACtBpM,SAAJ,GAAgBoM,QAAhB;;;SANL,MASA;gBACCC,qBAAJ;gBACIzC,cAAchM,IAAd,CAAJ,EAAyB;+BACNgM,cAAchM,IAAd,CAAf;aADJ,MAEO,IAAIuE,SAASvE,KAAK0O,KAAL,CAAWzC,kBAAX,CAAb,EAA6C;+BACjCjM,KAAKuG,OAAL,CAAa,mBAAb,EAAkC2F,QAAlC,CAAf;8BACclM,IAAd,IAAsByO,YAAtB;aAFG,MAGA;+BACYzO,IAAf;;gBAEE2O,KAAK9C,WAAW7L,IAAX,CAAX;;gBAEI2O,EAAJ,EAAQ;oBACAC,cAAJ,CAAmBD,EAAnB,EAAuBF,YAAvB,EAAqCpB,SAArC;aADJ,MAEO;oBACCe,YAAJ,CAAiBK,YAAjB,EAA+BpB,SAA/B;;;;;;AC5ChB,IAAMwB,gBAAgBxN,OAAO;WAClByN,eADkB;iBAEZC;CAFK,EAGnB5D,uBAHmB,CAAtB;;AAKA,AAAO,SAAS6D,iBAAT,CAA2B5L,KAA3B,EAAkCmB,KAAlC,EAAyCtB,KAAzC,EAAgD;sBACjC,IAAlB,EAAwBG,KAAxB,EAA+BmB,KAA/B,EAAsCtB,KAAtC;;;AAGJ,AAAO,SAASgM,iBAAT,CAA2BC,SAA3B,EAAsCC,SAAtC,EAAiD5K,KAAjD,EAAwDtB,KAAxD,EAA+D;QAC9DiM,cAAcC,SAAlB,EAA6B;;;;QAIvBtL,MAAMZ,MAAMY,GAAlB;;gBAEYqL,aAAazR,WAAzB;gBACY0R,aAAa1R,WAAzB;;QAEI0R,cAAc1R,WAAlB,EAA+B;aACtB,IAAIuC,IAAT,IAAiBmP,SAAjB,EAA4B;;gBAElB9B,YAAY5O,cAAc0Q,UAAUnP,IAAV,CAAd,IAAiC,IAAjC,GAAwCmP,UAAUnP,IAAV,CAA1D;gBACMoN,YAAY3O,cAAcyQ,UAAUlP,IAAV,CAAd,IAAiC,IAAjC,GAAwCkP,UAAUlP,IAAV,CAA1D;gBACMoP,OAAOP,cAAc7O,IAAd,IAAsBA,IAAtB,GAA6B,aAA1C;0BACcoP,IAAd,EAAoBhC,SAApB,EAA+BC,SAA/B,EAA0CrN,IAA1C,EAAgDuE,KAAhD,EAAuDV,GAAvD,EAA4DZ,KAA5D;;;QAGJiM,cAAczR,WAAlB,EAA+B;aACtB,IAAIuC,KAAT,IAAiBkP,SAAjB,EAA4B;gBACpBzQ,cAAc0Q,UAAUnP,KAAV,CAAd,CAAJ,EAAoC;oBAC1BoN,aAAY3O,cAAcyQ,UAAUlP,KAAV,CAAd,IAAiC,IAAjC,GAAwCkP,UAAUlP,KAAV,CAA1D;oBACMoP,QAAOP,cAAc7O,KAAd,IAAsBA,KAAtB,GAA6B,aAA1C;8BACcoP,KAAd,EAAoBhC,UAApB,EAA+B,IAA/B,EAAqCpN,KAArC,EAA2CuE,KAA3C,EAAkDV,GAAlD,EAAuDZ,KAAvD;;;;;;;;ACnDhB,AAWA,AAEA,AAEA,AAaA,AAKA,AAIA,AAEA,AAEA,AAIA,AAIA,AAAO,SAASgH,KAAT,CAAehH,KAAf,EAAsB8E,SAAtB,EAAiCtC,QAAjC,EAA2CrF,OAA3C,EAAoDmE,KAApD,EAA2D;QACxDsE,mBAAmBpK,cAAcgH,QAAd,CAAzB;QACI8F,UAAJ;eACW9F,YAAY,IAAIH,aAAJ,EAAvB;;QAEIpB,eAAejB,KAAf,CAAJ,EAA2B;YACnBoM,aAAapM,KAAb,EAAoB8E,SAApB,EAA+BtC,QAA/B,EAAyCrF,OAAzC,EAAkDmE,KAAlD,CAAJ;KADJ,MAEO,IAAIN,YAAYhB,KAAZ,CAAJ,EAAwB;YACvBqM,UAAUrM,KAAV,EAAiB8E,SAAjB,CAAJ;KADG,MAEA,IAAI5E,iBAAiBF,KAAjB,CAAJ,EAA6B;YAC5BsM,eAAetM,KAAf,EAAsB8E,SAAtB,EAAiCtC,QAAjC,EAA2CrF,OAA3C,EAAoDmE,KAApD,CAAJ;KADG,MAEA,IAAIP,YAAYf,KAAZ,CAAJ,EAAwB;YACvBuM,UAAUvM,KAAV,EAAiB8E,SAAjB,CAAJ;KADG,MAEA;mBACQ,yFAAwF9E,KAAxF,2CAAwFA,KAAxF,KAAgG,IAA3G;;;QAGA4F,gBAAJ,EAAsB;iBACTnD,SAAT;;WAEG6F,CAAP;;;AAGJ,AAAO,SAAS+D,SAAT,CAAmBrM,KAAnB,EAA0B8E,SAA1B,EAAqC;QAClClE,MAAMhC,SAAS4N,cAAT,CAAwBxM,MAAMH,QAA9B,CAAZ;;UAEMe,GAAN,GAAYA,GAAZ;QACIkE,SAAJ,EAAe;oBACCA,SAAZ,EAAuBlE,GAAvB;;WAEGA,GAAP;;;AAGJ,AAAO,SAAS2L,SAAT,CAAmBvM,KAAnB,EAA0B8E,SAA1B,EAAqC;QAClClE,MAAMhC,SAAS6N,aAAT,CAAuB,WAAvB,CAAZ;;UAEM7L,GAAN,GAAYA,GAAZ;QACIkE,SAAJ,EAAe;oBACCA,SAAZ,EAAuBlE,GAAvB;;WAEGA,GAAP;;;AAGJ,AAAO,SAASwL,YAAT,CAAsBpM,KAAtB,EAA6B8E,SAA7B,EAAwCtC,QAAxC,EAAkDrF,OAAlD,EAA2DmE,KAA3D,EAAkE;QAC/DiF,MAAMvG,MAAMW,IAAlB;;QAEI,CAACW,KAAL,EAAY;gBACAtB,MAAMsB,KAAd;;;QAGEV,MAAM0F,sBAAsBC,GAAtB,EAA2BjF,KAA3B,CAAZ;QACMzB,WAAWG,MAAMH,QAAvB;QACMM,QAAQH,MAAMG,KAApB;QACMgB,SAASnB,MAAMmB,MAArB;QACMC,QAAQpB,MAAMoB,KAAN,IAAe,EAA7B;;QAEI,CAAC9F,OAAOwJ,SAAP,CAAL,EAAwB;oBACRA,SAAZ,EAAuBlE,GAAvB;;;UAGEA,GAAN,GAAYA,GAAZ;;QAEI,CAACpF,cAAc4F,MAAMsL,YAApB,CAAL,EAAwC;cAC9BA,YAAN,CAAmB1M,KAAnB;;;QAGA,CAAC1E,OAAOuE,QAAP,CAAL,EAAuB;YACfpF,QAAQoF,QAAR,CAAJ,EAAuB;+BACAA,QAAnB,EAA6Be,GAA7B,EAAkC4B,QAAlC,EAA4CrF,OAA5C,EAAqDmE,KAArD;SADJ,MAEO,IAAIxB,QAAQD,QAAR,CAAJ,EAAuB;kBACpBA,QAAN,EAAgBe,GAAhB,EAAqB4B,QAArB,EAA+BrF,OAA/B,EAAwCmE,KAAxC;;;;mBAIOV,GAAf,EAAoBZ,KAApB;;sBAEkBG,KAAlB,EAAyBmB,KAAzB,EAAgCtB,KAAhC;oBACgBA,KAAhB;;QAEI,CAAC1E,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;iBACXkB,OAAT,CAAiB;mBAAMY,UAAUnD,KAAV,CAAN;SAAjB;;;;;;;QAOA,CAACxE,cAAc4F,MAAMuL,MAApB,CAAL,EAAkC;iBACrBpK,OAAT,CAAiB;mBAAMnB,MAAMuL,MAAN,CAAa3M,KAAb,CAAN;SAAjB;;WAEGY,GAAP;;;AAGJ,AAAO,SAASgM,kBAAT,CAA4B/M,QAA5B,EAAsCe,GAAtC,EAA2C4B,QAA3C,EAAqDrF,OAArD,EAA8DmE,KAA9D,EAAqE;SACnE,IAAIlE,IAAI,CAAb,EAAgBA,IAAIyC,SAAShE,MAA7B,EAAqCuB,GAArC,EAA0C;YAClC+E,QAAQtC,SAASzC,CAAT,CAAZ;;YAEI,CAAC3B,UAAU0G,KAAV,CAAL,EAAuB;kBACbA,KAAN,EAAavB,GAAb,EAAkB4B,QAAlB,EAA4BrF,OAA5B,EAAqCmE,KAArC;;;;;AAKZ,AAAO,SAASgL,cAAT,CAAwBtM,KAAxB,EAA+B8E,SAA/B,EAA0CtC,QAA1C,EAAoDrF,OAApD,EAA6DmE,KAA7D,EAAoE;QACjEX,OAAOX,MAAMW,IAAnB;QACMR,QAAQH,MAAMG,KAApB;QACMiB,QAAQpB,MAAMoB,KAAN,IAAe,EAA7B;QACMgE,UAAUpK,oBAAoB2F,IAApB,CAAhB;QACIC,YAAJ;QAASf,iBAAT;;QAEIuF,OAAJ,EAAa;YACHD,OAAOuC,qBAAqB1H,KAArB,EAA4B7C,OAA5B,EAAqCmE,KAArC,CAAb;cACM8B,SAAN,GAAkB+B,IAAlB;;aAEK0H,gBAAL,GAAwB,IAAxB;;YAEI1H,KAAK2H,kBAAT,EAA6B;iBACpBA,kBAAL;gBACI3H,KAAK4H,kBAAT,EAA6B;qBACpBnF,KAAL,GAAazC,KAAK6H,oBAAL,CAA0B7H,KAAKhF,KAA/B,EAAsCgF,KAAKhI,OAA3C,CAAb;;;;aAIHmI,eAAL,GAAuB,IAAvB;0BACkBtD,OAAlB,GAA4BmD,IAA5B;cACMtF,QAAN,GAAiBsF,KAAKjK,MAAL,CAAYiK,KAAKhF,KAAjB,EAAwBgF,KAAKyC,KAA7B,EAAoCzC,KAAKhI,OAAzC,CAAjB;0BACkB6E,OAAlB,GAA4B,IAA5B;aACKsD,eAAL,GAAuB,KAAvB;mCAC2BtF,KAA3B;aACKiN,MAAL,GAAcjN,KAAd;aACKkN,cAAL,GAAsBlN,MAAMH,QAA5B;aACKgN,gBAAL,GAAwB,KAAxB;;cAEMjM,GAAN,GAAYA,MAAMoG,MAAMhH,MAAMH,QAAZ,EAAsBiF,SAAtB,EAAiCtC,QAAjC,EAA2C2C,KAAK6C,aAAhD,EAA+D1G,KAA/D,CAAlB;;aAEK6L,UAAL,GAAkB,IAAI9K,aAAJ,EAAlB;;YAEI,CAAC/G,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;qBACXkB,OAAT,CAAiB;uBAAMY,UAAUnD,KAAV,CAAN;aAAjB;;;YAGAmF,KAAKiI,iBAAT,EAA4B;qBACf7K,OAAT,CAAiB;uBAAM4C,KAAKiI,iBAAL,EAAN;aAAjB;;;YAGA,CAAC5R,cAAc4F,MAAMuL,MAApB,CAAL,EAAkC;qBACrBpK,OAAT,CAAiB;uBAAMnB,MAAMuL,MAAN,CAAa3M,KAAb,CAAN;aAAjB;;;YAGAmF,KAAKkI,iBAAT,EAA4B;qBACf9K,OAAT,CAAiB;uBAAM4C,KAAKmI,wBAAL,EAAN;aAAjB;;KAxCR,MA2CO;;YAEC,CAAC9R,cAAc2E,MAAMoN,oBAApB,CAAL,EAAgD;kBACtCA,oBAAN,CAA2BvN,KAA3B;;;cAGEH,QAAN,GAAiBc,KAAKR,KAAL,EAAYhD,OAAZ,CAAjB;mCAC2B6C,KAA3B;cACMY,GAAN,GAAYA,MAAMoG,MAAMhH,MAAMH,QAAZ,EAAsBiF,SAAtB,EAAiCtC,QAAjC,EAA2CrF,OAA3C,EAAoDmE,KAApD,CAAlB;;YAEI,CAAChG,OAAO0E,MAAMqB,GAAb,CAAL,EAAwB;qBACXkB,OAAT,CAAiB;uBAAMY,UAAUnD,KAAV,CAAN;aAAjB;;;YAGA,CAACxE,cAAc2E,MAAMqN,mBAApB,CAAL,EAA+C;qBAClCjL,OAAT,CAAiB;uBAAMpC,MAAMqN,mBAAN,CAA0BxN,KAA1B,CAAN;aAAjB;;;YAGA,CAACxE,cAAc4F,MAAMuL,MAApB,CAAL,EAAkC;qBACrBpK,OAAT,CAAiB;uBAAMnB,MAAMuL,MAAN,CAAa3M,KAAb,CAAN;aAAjB;;;;WAIDY,GAAP;;;AAGJ,AAAO,SAAS6M,0BAAT,CAAoCzN,KAApC,EAA2C;QAC1CH,WAAWG,MAAMH,QAArB;;QAEIpF,QAAQoF,QAAR,CAAJ,EAAuB;mBACR,8HAAX;KADJ,MAEO,IAAIpE,UAAUoE,QAAV,CAAJ,EAAyB;cACtBA,QAAN,GAAiB4B,iBAAjB;KADG,MAEA,IAAIlG,iBAAiBsE,QAAjB,CAAJ,EAAgC;cAC7BA,QAAN,GAAiBF,gBAAgBE,QAAhB,CAAjB;;;UAGEA,QAAN,CAAeL,WAAf,GAA6BQ,KAA7B;;WAEOA,KAAP;;;ACvLG,SAAS0N,KAAT,CAAe/K,SAAf,EAA0BC,SAA1B,EAAqCkC,SAArC,EAAgDtC,QAAhD,EAA0DrF,OAA1D,EAAmEmE,KAAnE,EAA0E;QACzEsE,mBAAmBpK,cAAcgH,QAAd,CAAvB;eACWA,YAAY,IAAIH,aAAJ,EAAvB;;QAEIM,cAAcC,SAAlB,EAA6B;YACrB,CAACrC,YAAYoC,SAAZ,EAAuBC,SAAvB,CAAL,EAAwC;+BAEhCD,SADJ,EAEIC,SAFJ,EAGIkC,SAHJ,EAIItC,QAJJ,EAKIrF,OALJ,EAMImE,KANJ;SADJ,MASO,IAAIL,eAAe0B,SAAf,CAAJ,EAA+B;yBACrBA,SAAb,EAAwBC,SAAxB,EAAmCkC,SAAnC,EAA8CtC,QAA9C,EAAwDrF,OAAxD,EAAiEmE,KAAjE;SADG,MAEA,IAAIpB,iBAAiByC,SAAjB,CAAJ,EAAiC;2BACrBA,SAAf,EAA0BC,SAA1B,EAAqCkC,SAArC,EAAgDtC,QAAhD,EAA0DrF,OAA1D,EAAmEmE,KAAnE;SADG,MAEA,IAAIN,YAAY2B,SAAZ,CAAJ,EAA4B;sBACrBA,SAAV,EAAqBC,SAArB;SADG,MAEA,IAAI7B,YAAY4B,SAAZ,CAAJ,EAA4B;sBACrBA,SAAV,EAAqBC,SAArB;;;;QAIJgD,gBAAJ,EAAsB;iBACTnD,SAAT;;;WAGGG,SAAP;;;AAIJ,SAASmC,iBAAT,CAAyBlF,QAAzB,EAAmCe,GAAnC,EAAwC;QAChCd,QAAQD,QAAR,CAAJ,EAAuB;gBACXA,QAAR,EAAkBe,GAAlB;KADJ,MAEO,IAAInG,QAAQoF,QAAR,CAAJ,EAAuB;aACrB,IAAIzC,IAAI,CAAb,EAAgBA,IAAIyC,SAAShE,MAA7B,EAAqCuB,GAArC,EAA0C;gBAChC+E,QAAQtC,SAASzC,CAAT,CAAd;;gBAEI,CAAC3B,UAAU0G,KAAV,CAAL,EAAuB;wBACXA,KAAR,EAAevB,GAAf;;;KALL,MAQA;uBACYA,GAAf,EAAoB,EAApB;;;;AAIR,SAAS+M,YAAT,CAAsBhL,SAAtB,EAAiCC,SAAjC,EAA4CkC,SAA5C,EAAuDtC,QAAvD,EAAiErF,OAAjE,EAA0EmE,KAA1E,EAAiF;QACvEV,MAAM+B,UAAU/B,GAAtB;QACMQ,QAAQwB,UAAUxB,KAAV,IAAmB,EAAjC;QACM6K,YAAYtJ,UAAUxC,KAA5B;QACM+L,YAAYtJ,UAAUzC,KAA5B;QACMyN,eAAejL,UAAU9C,QAA/B;QACMgO,eAAejL,UAAU/C,QAA/B;QACMiO,aAAanL,UAAUxB,MAA7B;QACM4M,aAAanL,UAAUzB,MAA7B;QACMkK,WAAWY,aAAaA,UAAUlK,uBAAvB,IAAkDkK,UAAUlK,uBAAV,CAAkCuJ,MAArG;QACMC,WAAWW,aAAaA,UAAUnK,uBAAvB,IAAkDmK,UAAUnK,uBAAV,CAAkCuJ,MAArG;;cAEU1K,GAAV,GAAgBA,GAAhB;;QAEIQ,MAAM4M,YAAV,EAAwB;cACdA,YAAN,CAAmBrL,SAAnB,EAA8BC,SAA9B;;;QAGAqL,cAAcvL,iBAAiBC,SAAjB,EAA4BC,SAA5B,CAAlB;QACIqL,WAAJ,EAAiB;kBACHtL,SAAV;;;QAGA,CAACnH,cAAc6P,QAAd,CAAD,IAA4B7P,cAAc+P,QAAd,CAAhC,EAAyD;YACjDpM,SAAJ,GAAgB,EAAhB;;;QAGAyO,iBAAiBC,YAArB,EAAmC;sBACjBD,YAAd,EAA4BC,YAA5B,EAA0CjN,GAA1C,EAA+C4B,QAA/C,EAAyDrF,OAAzD,EAAkEmE,KAAlE;;;mBAGWV,GAAf,EAAoBgC,SAApB;;sBAEkBD,UAAUxC,KAA5B,EAAmCyC,UAAUzC,KAA7C,EAAoDmB,KAApD,EAA2DsB,SAA3D;oBACgBD,SAAhB,EAA2BC,SAA3B;;QAEI,CAACtH,OAAOsH,UAAUvB,GAAjB,CAAL,EAA4B;iBACfkB,OAAT,CAAiB;mBAAMY,UAAUP,SAAV,CAAN;SAAjB;;;QAGAxB,MAAM8M,MAAV,EAAkB;iBACL3L,OAAT,CAAiB;mBAAMnB,MAAM8M,MAAN,CAAatL,SAAb,CAAN;SAAjB;;;;AAKR,SAASuL,aAAT,CAAuBP,YAAvB,EAAqCC,YAArC,EAAmDjN,GAAnD,EAAwD4B,QAAxD,EAAkErF,OAAlE,EAA2EmE,KAA3E,EAAkF;QAC1E7F,UAAUoS,YAAV,CAAJ,EAA6B;0BACTD,YAAhB,EAA8BhN,GAA9B,EAAmC4B,QAAnC;KADJ,MAEO,IAAI/G,UAAUmS,YAAV,CAAJ,EAA6B;YAC5BnT,QAAQoT,YAAR,CAAJ,EAA2B;+BACJA,YAAnB,EAAiCjN,GAAjC,EAAsC4B,QAAtC,EAAgDrF,OAAhD,EAAyDmE,KAAzD;SADJ,MAEO;kBACGuM,YAAN,EAAoBjN,GAApB,EAAyB4B,QAAzB,EAAmCrF,OAAnC,EAA4CmE,KAA5C;;KAJD,MAMA,IAAI,CAAC7G,QAAQmT,YAAR,CAAD,IAA0B,CAACnT,QAAQoT,YAAR,CAA/B,EAAsD;cACnDD,YAAN,EAAoBC,YAApB,EAAkCjN,GAAlC,EAAuC4B,QAAvC,EAAiDrF,OAAjD,EAA0DmE,KAA1D;KADG,MAEA;uBACY1G,QAAQgT,YAAR,CAAf,EAAsChT,QAAQiT,YAAR,CAAtC,EAA6DjN,GAA7D,EAAkE4B,QAAlE,EAA4ErF,OAA5E,EAAqFmE,KAArF;;;;AAIR,SAAS8M,iBAAT,CAA2BvO,QAA3B,EAAqCwO,QAArC,EAA+CC,MAA/C,EAAuD;QAC/ClR,CAAJ;QAAOlD,SAAM,EAAb;QACIoD,GADJ;SAEKF,IAAIiR,QAAT,EAAmBjR,KAAKkR,MAAxB,EAAgC,EAAElR,CAAlC,EAAqC;cAC3ByC,SAASzC,CAAT,EAAYE,GAAlB;YACI,CAAC9B,cAAc8B,GAAd,CAAL,EAAyB;gBACjBxB,UAAU5B,OAAIoD,GAAJ,CAAV,CAAJ,EAAyB;2BACV,qBAAX;;mBAEAA,GAAJ,IAAWF,CAAX;;;WAGDlD,MAAP;;;AAGJ,SAASqU,cAAT,CAAwBC,KAAxB,EAA+BC,KAA/B,EAAsCC,SAAtC,EAAiDlM,QAAjD,EAA2DrF,OAA3D,EAAoEmE,KAApE,EAA2E;QACnEqN,cAAc,CAAlB;QACIC,cAAc,CADlB;QAEIC,YAAYL,MAAM3S,MAAN,GAAe,CAA/B;QACIiT,gBAAgBN,MAAM,CAAN,CAApB;QACIO,cAAcP,MAAMK,SAAN,CAAlB;QACIG,YAAYP,MAAM5S,MAAN,GAAe,CAA/B;QACIoT,gBAAgBR,MAAM,CAAN,CAApB;QACIS,cAAcT,MAAMO,SAAN,CAAlB;QACIG,WAAJ,EAAiBC,QAAjB,EAA2BC,SAA3B,EAAsCC,MAAtC;;QAEIC,YAAY1V,MAAM4U,MAAM5S,MAAZ,CAAhB;;WAEO8S,eAAeE,SAAf,IAA4BD,eAAeI,SAAlD,EAA6D;YACrDlU,YAAYgU,aAAZ,CAAJ,EAAgC;4BACZN,MAAM,EAAEG,WAAR,CAAhB,CAD4B;SAAhC,MAEO,IAAI7T,YAAYiU,WAAZ,CAAJ,EAA8B;0BACnBP,MAAM,EAAEK,SAAR,CAAd;SADG,MAEA,IAAItO,YAAYuO,aAAZ,EAA2BG,aAA3B,CAAJ,EAA+C;kBAC5CH,aAAN,EAAqBG,aAArB,EAAoCP,SAApC,EAA+ClM,QAA/C,EAAyDrF,OAAzD,EAAkEmE,KAAlE;4BACgBkN,MAAM,EAAEG,WAAR,CAAhB;4BACgBF,MAAM,EAAEG,WAAR,CAAhB;SAHG,MAIA,IAAIrO,YAAYwO,WAAZ,EAAyBG,WAAzB,CAAJ,EAA2C;kBACxCH,WAAN,EAAmBG,WAAnB,EAAgCR,SAAhC,EAA2ClM,QAA3C,EAAqDrF,OAArD,EAA8DmE,KAA9D;0BACckN,MAAM,EAAEK,SAAR,CAAd;0BACcJ,MAAM,EAAEO,SAAR,CAAd;SAHG,MAIA,IAAIzO,YAAYuO,aAAZ,EAA2BI,WAA3B,CAAJ,EAA6C;;yBACnCR,SAAb,EAAwBI,cAAclO,GAAtC,EAA2CuF,YAAY4I,YAAYnO,GAAxB,CAA3C;kBACMkO,aAAN,EAAqBI,WAArB,EAAkCR,SAAlC,EAA6ClM,QAA7C,EAAuDrF,OAAvD,EAAgEmE,KAAhE;4BACgBkN,MAAM,EAAEG,WAAR,CAAhB;0BACcF,MAAM,EAAEO,SAAR,CAAd;SAJG,MAKA,IAAIzO,YAAYwO,WAAZ,EAAyBE,aAAzB,CAAJ,EAA6C;;yBACnCP,SAAb,EAAwBK,YAAYnO,GAApC,EAAyCkO,cAAclO,GAAvD;kBACMmO,WAAN,EAAmBE,aAAnB,EAAkCP,SAAlC,EAA6ClM,QAA7C,EAAuDrF,OAAvD,EAAgEmE,KAAhE;0BACckN,MAAM,EAAEK,SAAR,CAAd;4BACgBJ,MAAM,EAAEG,WAAR,CAAhB;SAJG,MAKA;gBACC9T,YAAYqU,WAAZ,CAAJ,EAA8B;8BAAgBf,kBAAkBI,KAAlB,EAAyBG,WAAzB,EAAsCE,SAAtC,CAAd;;;uBAErBM,YAAYF,cAAc3R,GAA1B,CAAX;;gBAEIxC,YAAYsU,QAAZ,KAAyBtU,YAAY0T,MAAMY,QAAN,CAAZ,CAA7B,EAA2D;;oBACnDxO,MAAMoG,MAAMyH,MAAMG,WAAN,CAAN,EAA0B,IAA1B,EAAgCpM,QAAhC,EAA0CrF,OAA1C,EAAmDmE,KAAnD,CAAV;6BACaoN,SAAb,EAAwB9N,GAAxB,EAA6BkO,cAAclO,GAA3C;gCACgB6N,MAAM,EAAEG,WAAR,CAAhB;aAHJ,MAIO;4BACSJ,MAAMY,QAAN,CAAZ;6BACaV,SAAb,EAAwBW,UAAUzO,GAAlC,EAAuCkO,cAAclO,GAArD;sBACMyO,SAAN,EAAiBJ,aAAjB,EAAgCP,SAAhC,EAA2ClM,QAA3C,EAAqDrF,OAArD,EAA8DmE,KAA9D;sBACM8N,QAAN,IAAkBrU,SAAlB;gCACgB0T,MAAM,EAAEG,WAAR,CAAhB;;;;;QAKRD,cAAcE,SAAlB,EAA6B;;iBAChB/T,YAAY2T,MAAMO,YAAY,CAAlB,CAAZ,IAAoC,IAApC,GAA2CP,MAAMO,YAAY,CAAlB,EAAqBpO,GAAzE;eACOgO,eAAeI,SAAtB,EAAiCJ,aAAjC,EAAgD;gBACxChO,MAAMoG,MAAMyH,MAAMG,WAAN,CAAN,EAA0B,IAA1B,EAAgCpM,QAAhC,EAA0CrF,OAA1C,EAAmDmE,KAAnD,CAAV;yBACaoN,SAAb,EAAwB9N,GAAxB,EAA6B0O,MAA7B;;KAJR,MAMO,IAAIV,cAAcI,SAAlB,EAA6B;;eACzBL,eAAeE,SAAtB,EAAiCF,aAAjC,EAAgD;;gBAExC7S,UAAU0S,MAAMG,WAAN,CAAV,CAAJ,EAAmC;wBACvBH,MAAMG,WAAN,CAAR,EAA4BD,SAA5B;;;;;;AAMhB,SAASc,SAAT,CAAmB7M,SAAnB,EAA8BC,SAA9B,EAAyC;QAC/B6M,WAAW7M,UAAU/C,QAA3B;QACMe,MAAM+B,UAAU/B,GAAtB;;cAEUA,GAAV,GAAgBA,GAAhB;;QAEI+B,UAAU9C,QAAV,KAAuB4P,QAA3B,EAAqC;YAC7BC,SAAJ,GAAgBD,QAAhB;;;;AAIR,SAASE,SAAT,CAAmBhN,SAAnB,EAA8BC,SAA9B,EAAyC;cAC3BhC,GAAV,GAAgB+B,UAAU/B,GAA1B;;;AAGJ,SAASgP,cAAT,CAAwBjN,SAAxB,EAAmCC,SAAnC,EAA8CkC,SAA9C,EAAyDtC,QAAzD,EAAmErF,OAAnE,EAA4EmE,KAA5E,EAAmF;QACzEuO,WAAWjN,UAAUjC,IAA3B;QACMuL,YAAYtJ,UAAUzC,KAA5B;QACMiF,UAAUpK,oBAAoB6U,QAApB,CAAhB;QACMzO,QAAQwB,UAAUxB,KAAV,IAAmB,EAAjC;;QAEIgE,OAAJ,EAAa;YACHD,OAAOxC,UAAUS,SAAvB;YACMwK,eAAejL,UAAU9C,QAA/B;YACMoM,YAAY9G,KAAKhF,KAAvB;YACM2P,YAAY3K,KAAKyC,KAAvB;YACMmI,cAAc5K,KAAKhI,OAAzB;YACI0Q,qBAAJ;YAAkB/F,qBAAlB;YAAgCkI,eAAe,KAA/C;;kBAEUpP,GAAV,GAAgB+B,UAAU/B,GAA1B;kBACUf,QAAV,GAAqB+N,YAArB;kBACUxK,SAAV,GAAsB+B,IAAtB;aACK0C,MAAL,GAAcvG,KAAd;;uBAEe6D,KAAK8K,gBAAL,CAAsBhE,SAAtB,EAAiCC,SAAjC,EAA4C/O,OAA5C,CAAf;;uBAEegI,KAAK4C,eAAL,EAAf;;YAEI,CAACvM,cAAcsM,YAAd,CAAL,EAAkC;2BACf1J,OAAO,EAAP,EAAWjB,OAAX,EAAoB2K,YAApB,CAAf;SADJ,MAEO;2BACY3K,OAAf;;;YAGA0Q,iBAAiBrT,WAArB,EAAkC;sBACpBqF,QAAV,GAAqBgO,YAArB;uCAC2BjL,SAA3B;2BACeA,UAAU/C,QAAzB;2BACe,IAAf;;;aAGCmI,aAAL,GAAqBF,YAArB;aACKmF,MAAL,GAAcrK,SAAd;aACKsK,cAAL,GAAsBW,YAAtB;;YAEImC,YAAJ,EAAkB;;gBAEV5O,MAAM4M,YAAV,EAAwB;sBACdA,YAAN,CAAmBrL,SAAnB,EAA8BC,SAA9B;;;gBAGAqL,cAAcvL,iBAAiBC,SAAjB,EAA4BC,SAA5B,CAAlB;gBACIqL,WAAJ,EAAiB;0BACHtL,SAAV;;;kBAGEiL,YAAN,EAAoBC,YAApB,EAAkC/I,SAAlC,EAA6CtC,QAA7C,EAAuDsF,YAAvD,EAAqExG,KAArE;sBACUV,GAAV,GAAgBiN,aAAajN,GAA7B;;gBAEI,CAACtF,OAAOsH,UAAUvB,GAAjB,CAAL,EAA4B;yBACfkB,OAAT,CAAiB;2BAAMY,UAAUP,SAAV,CAAN;iBAAjB;;;gBAGAuC,KAAK+K,kBAAT,EAA6B;yBAChB3N,OAAT,CAAiB;2BAAM4C,KAAK+K,kBAAL,CAAwBjE,SAAxB,EAAmC6D,SAAnC,EAA8CC,WAA9C,EAA2DnN,UAAUhC,GAArE,CAAN;iBAAjB;;;gBAGA,CAACpF,cAAc4F,MAAM8M,MAApB,CAAL,EAAkC;yBACrB3L,OAAT,CAAiB;2BAAMnB,MAAM8M,MAAN,CAAatL,SAAb,CAAN;iBAAjB;;;;YAIJuC,KAAKkI,iBAAT,EAA4B;qBACf9K,OAAT,CAAiB;uBAAM4C,KAAKmI,wBAAL,EAAN;aAAjB;;KA9DR,MAgEO;YACC0C,gBAAe,IAAnB;YACM/D,aAAYtJ,UAAUxC,KAA5B;YACMyN,gBAAejL,UAAU9C,QAA/B;YACIgO,gBAAeD,aAAnB;;kBAEUhN,GAAV,GAAgB+B,UAAU/B,GAA1B;kBACUf,QAAV,GAAqBgO,aAArB;;YAEI,CAACrS,cAAc0Q,UAAUiE,uBAAxB,CAAL,EAAuD;4BACpCjE,UAAUiE,uBAAV,CAAkClE,UAAlC,EAA6CC,SAA7C,EAAwD/O,OAAxD,CAAf;;;YAGA6S,kBAAiB,KAArB,EAA4B;gBACpB/B,eAAcvL,iBAAiBC,SAAjB,EAA4BC,SAA5B,CAAlB;gBACIqL,YAAJ,EAAiB;0BACHtL,SAAV;;;gBAGA,CAACnH,cAAc0Q,UAAUkE,qBAAxB,CAAL,EAAqD;0BACvCA,qBAAV,CAAgCnE,UAAhC,EAA2CC,SAA3C,EAAsDtJ,SAAtD;;sBAEM/C,QAAV,GAAqBgQ,SAAS3D,SAAT,EAAoB/O,OAApB,CAArB;;uCAE2ByF,SAA3B;;4BAEeA,UAAU/C,QAAzB;;gBAEIuB,MAAM4M,YAAV,EAAwB;sBACdA,YAAN,CAAmBrL,SAAnB,EAA8BC,SAA9B;;;kBAGEgL,aAAN,EAAoBC,aAApB,EAAkC/I,SAAlC,EAA6CtC,QAA7C,EAAuDrF,OAAvD,EAAgEmE,KAAhE;sBACUV,GAAV,GAAgBiN,cAAajN,GAA7B;;gBAEI,CAACtF,OAAOsH,UAAUvB,GAAjB,CAAL,EAA4B;yBACfkB,OAAT,CAAiB;2BAAMY,UAAUP,SAAV,CAAN;iBAAjB;;;gBAGA,CAACpH,cAAc0Q,UAAUmE,oBAAxB,CAAL,EAAoD;yBACvC9N,OAAT,CAAiB;2BAAM2J,UAAUmE,oBAAV,CAA+BzN,SAA/B,CAAN;iBAAjB;;;gBAGA,CAACpH,cAAc4F,MAAM8M,MAApB,CAAL,EAAkC;yBACrB3L,OAAT,CAAiB;2BAAMnB,MAAM8M,MAAN,CAAatL,SAAb,CAAN;iBAAjB;;;;;;ACxWT,SAAS0N,MAAT,CAAgB3N,SAAhB,EAA2BC,SAA3B,EAAsC;QACrC,CAACnH,UAAUkH,SAAV,CAAL,EAA2B;YACnB3G,MAAM2G,SAAN,CAAJ,EAAsB;mBACXC,SAAP,EAAkBD,SAAlB;SADJ,MAEO,IAAI7C,QAAQ6C,SAAR,KAAsB7C,QAAQ8C,SAAR,CAA1B,EAA8C;gBAC7CD,UAAU/B,GAAd,EAAmB;sBACT+B,SAAN,EAAiBC,SAAjB;oBACID,UAAUnD,WAAd,EAA2B;2BAChBmD,SAAP,EAAkBC,SAAlB;;aAHR,MAKO;2BACQ,mBAAX;;;;eAIDA,SAAP;;;;AAIR,AAAO,SAAS1H,MAAT,CAAgB8E,KAAhB,EAAuB8E,SAAvB,EAAkC;QACjClG,SAAS2R,IAAT,KAAkBzL,SAAtB,EAAiC;gBACrB,0FAAR;;;QAGE0L,YAAY1L,UAAU2L,eAA5B;;QAEI,CAACD,SAAL,EAAgB;YACR,CAAC/U,UAAUuE,KAAV,CAAD,IAAqBF,QAAQE,KAAR,CAAzB,EAAyC;kBAC/BA,KAAN,EAAa8E,SAAb,EAAwB,IAAxB,EAA8B,EAA9B;sBACU2L,eAAV,GAA4BzQ,KAA5B;mBACOA,MAAMoD,SAAN,IAAmBpD,MAAMY,GAAhC;SAHJ,MAIO;uBACQ,iBAAX;;KANR,MAQO;YACCnF,UAAUuE,KAAV,CAAJ,EAAsB;oBACVwQ,SAAR,EAAmB1L,SAAnB;sBACU2L,eAAV,GAA4B,IAA5B;mBACO3L,UAAU2L,eAAjB;SAHJ,MAIO,IAAI3Q,QAAQE,KAAR,CAAJ,EAAoB;kBACjBwQ,SAAN,EAAiBxQ,KAAjB;sBACUyQ,eAAV,GAA4BzQ,KAA5B;mBACOA,MAAMoD,SAAN,IAAmBpD,MAAMY,GAAhC;SAHG,MAIA;uBACQ,iBAAX;;;;;AAKZ,AAAO,SAAS8P,sBAAT,CAAgC9P,GAAhC,EAAqC;QACpCA,IAAI6P,eAAR,EAAyB;gBACb7P,IAAI6P,eAAZ,EAA6B7P,GAA7B;eACOA,IAAI6P,eAAX;;;;AAIR,AAAO,SAASE,WAAT,CAAqB3Q,KAArB,EAA4B;QAC3B,CAACvE,UAAUqE,OAAV,CAAL,EAAyB;YACjBA,QAAQE,KAAR,CAAJ,EAAoB;mBACTA,MAAMY,GAAb;SADJ,MAEO,IAAIZ,MAAMiN,MAAV,EAAkB;mBACdjN,MAAMiN,MAAN,CAAarM,GAApB;;;WAGD,IAAP;;;ACrFJ,IAAIrD,mBAAiBjD,OAAOR,SAAP,CAAiByD,cAAtC;IACIqT,aAAatW,OAAOuW,IADxB;;AAGA,SAASA,IAAT,CAAchW,GAAd,EAAmB;QACX+V,UAAJ,EAAgB;eACLA,WAAW/V,GAAX,CAAP;;;QAGAgW,OAAO,EAAX;;SAEK,IAAIvT,GAAT,IAAgBzC,GAAhB,EAAqB;aACZ4C,IAAL,CAAUH,GAAV;;;WAGGuT,IAAP;;;;;;;AAOJ,SAASC,EAAT,CAAYC,CAAZ,EAAeC,CAAf,EAAkB;;QAEVD,MAAMC,CAAV,EAAa;;;;eAIFD,MAAM,CAAN,IAAWC,MAAM,CAAjB,IAAsB,IAAID,CAAJ,KAAU,IAAIC,CAA3C;KAJJ,MAKO;;eAEID,MAAMA,CAAN,IAAWC,MAAMA,CAAxB;;;;;;;;;AASR,AAAe,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;QACzCL,GAAGI,IAAH,EAASC,IAAT,CAAJ,EAAoB;eACT,IAAP;;;QAGA,CAACpV,SAASmV,IAAT,CAAD,IAAmBA,SAAS,IAA5B,IAAoC,CAACnV,SAASoV,IAAT,CAArC,IAAuDA,SAAS,IAApE,EAA0E;eAC/D,KAAP;;;QAGAC,QAAQP,KAAKK,IAAL,CAAZ;QACIG,QAAQR,KAAKM,IAAL,CAAZ;;QAEIC,MAAMvV,MAAN,KAAiBwV,MAAMxV,MAA3B,EAAmC;eACxB,KAAP;;;;SAIC,IAAIuB,IAAI,CAAb,EAAgBA,IAAIgU,MAAMvV,MAA1B,EAAkCuB,GAAlC,EAAuC;YAC/B,CAACG,iBAAe5C,IAAf,CAAoBwW,IAApB,EAA0BC,MAAMhU,CAAN,CAA1B,CAAD,IAAwC,CAAC0T,GAAGI,KAAKE,MAAMhU,CAAN,CAAL,CAAH,EAAmB+T,KAAKC,MAAMhU,CAAN,CAAL,CAAnB,CAA7C,EAAiF;mBACtE,KAAP;;;;WAID,IAAP;;;AC1CJ,SAASkU,2BAAT,CAAqCtR,KAArC,EAA4CY,GAA5C,EAAiD;QACvCpB,cAAcQ,MAAMR,WAA1B;;QAEIA,eAAe,CAACrE,SAASqE,YAAYmB,IAArB,CAApB,EAAgD;oBAChCC,GAAZ,GAAkBA,GAAlB;oCAC4BpB,WAA5B,EAAyCoB,GAAzC;;;;AAIR,SAAS2Q,eAAT,CAAyBC,SAAzB,EAAoCC,QAApC,EAA8CjP,QAA9C,EAAsE;QAAdkP,IAAc,uEAAP,KAAO;;QAC9D,CAAClW,cAAciW,QAAd,CAAL,EAA8B;YACtBE,QAAQH,UAAUzE,kBAAV,KAAiCyE,UAAUzE,kBAAV,GAA+B,EAAhE,CAAZ;cACMtP,IAAN,CAAWgU,QAAX;;;QAGAjP,QAAJ,EAAc;YACNmP,SAAQH,UAAUnE,iBAAV,KAAgCmE,UAAUnE,iBAAV,GAA8B,EAA9D,CAAZ;eACM5P,IAAN,CAAW+E,QAAX;;;QAGA,CAACgP,UAAU3E,gBAAX,IAA+B6E,IAAnC,EAAyC;mBAC1BF,SAAX,EAAsB,KAAtB,EAA6BhP,QAA7B;;;;AAIR,SAASoP,UAAT,CAAoBzM,IAApB,EAA0B3C,QAA1B,EAAoC;QAC1BxC,QAAQmF,KAAK8H,MAAnB;QACMnI,YAAY9E,MAAMY,GAAN,CAAUoF,UAA5B;QACM5E,QAAQpB,MAAMoB,KAAN,IAAe,EAA7B;QACMwG,QAAQzC,KAAKyC,KAAnB;QACMgG,eAAe5N,MAAMH,QAA3B;QACMM,QAAQgF,KAAKhF,KAAnB;QACMhD,UAAUgI,KAAKhI,OAArB;QACI2K,eAAe3C,KAAK4C,eAAL,EAAnB;QACI8F,qBAAJ;QAAkBmC,eAAe,KAAjC;;mBAEe7K,KAAK8K,gBAAL,CAAsB9P,KAAtB,EAA6BA,KAA7B,EAAoChD,OAApC,CAAf;;QAEI0Q,iBAAiBrT,WAArB,EAAkC;cACxBqF,QAAN,GAAiBgO,YAAjB;mCAC2B7N,KAA3B;uBACeA,MAAMH,QAArB;uBACe,IAAf;;;QAGAmQ,YAAJ,EAAkB;;YAEV5O,MAAM4M,YAAV,EAAwB;kBACdA,YAAN,CAAmBhO,KAAnB,EAA0BA,KAA1B;;;YAGA,CAACxE,cAAcsM,YAAd,CAAL,EAAkC;2BACf1J,OAAO,EAAP,EAAWjB,OAAX,EAAoBgI,KAAK6C,aAAzB,EAAwCF,YAAxC,CAAf;SADJ,MAEO;2BACY1J,OAAO,EAAP,EAAWjB,OAAX,EAAoBgI,KAAK6C,aAAzB,CAAf;;;YAGA6J,YAAY1M,KAAKgI,UAArB;;cAEMS,YAAN,EAAoBC,YAApB,EAAkC/I,SAAlC,EAA6C+M,SAA7C,EAAwD/J,YAAxD,EAAsE3C,KAAK0C,MAA3E;;YAEMjH,MAAMZ,MAAMY,GAAN,GAAYiN,aAAajN,GAArC;;oCAE4BZ,KAA5B,EAAmCY,GAAnC;;kBAEU6B,SAAV;;YAEI0C,KAAK+K,kBAAT,EAA6B;iBACpBA,kBAAL,CAAwB/P,KAAxB,EAA+ByH,KAA/B;;;YAGA,CAACpM,cAAc4F,MAAM8M,MAApB,CAAL,EAAkC;kBACxBA,MAAN,CAAalO,KAAb;;;;QAIJmF,KAAKkI,iBAAT,EAA4B;aACnBC,wBAAL;;;QAGA5R,WAAW8G,QAAX,CAAJ,EAA0B;;;;;AAK9B,AAAe,SAASsP,cAAT,CAAwB3R,KAAxB,EAA+BhD,OAA/B,EAAwC;SAC9CyK,KAAL,GAAa,EAAb;SACK1E,IAAL,GAAY,EAAZ;SACK/C,KAAL,GAAaA,SAAS,EAAtB;SACKhD,OAAL,GAAeA,WAAW,EAA1B;;;AAGJiB,OAAO0T,eAAehY,SAAtB,EAAiC;YACrB,IADqB;gBAEjB,IAFiB;gBAGjB,IAHiB;YAIrB,KAJqB;mBAKd,IALc;wBAMT,IANS;uBAOV,IAPU;0BAQP,KARO;yBASR,KATQ;sBAUX,KAVW;uBAWV,KAXU;qBAYZ,KAZY;oBAab,IAba;;UAAA,cAepB,EAfoB;eAAA,YAiBjB0I,QAjBiB,EAiBP;YACd,KAAK6C,UAAT,EAAqB;;;aAGhB0M,mBAAL,GAA2B,IAA3B;;wBAEgB,IAAhB,EAAsB,IAAtB,EAA4BvP,QAA5B;KAvByB;YAAA,YA0BpBiP,QA1BoB,EA0BVjP,QA1BU,EA0BA;YACrB,KAAK6C,UAAT,EAAqB;;;YAGjB,CAAC,KAAK2M,iBAAV,EAA6B;gBACrB,CAAC,KAAK1M,eAAV,EAA2B;gCACP,IAAhB,EAAsBmM,QAAtB,EAAgCjP,QAAhC;aADJ,MAEO;wBACK,+EAAR;;SAJR,MAMO;uBACQ,iEAAX;;KArCqB;gBAAA,YAyChBiP,QAzCgB,EAyCNjP,QAzCM,EAyCI;YACzB,KAAK6C,UAAT,EAAqB;;;aAGhB4M,oBAAL,GAA4B,IAA5B;aACKC,QAAL,CAAcT,QAAd,EAAwBjP,QAAxB;KA9CyB;gBAAA,YAiDhBiP,QAjDgB,EAiDNjP,QAjDM,EAiDI;YACzB,KAAK6C,UAAT,EAAqB;;;YAGjB,CAAC,KAAK2M,iBAAV,EAA6B;gBACrB,CAAC,KAAK1M,eAAV,EAA2B;gCACP,IAAhB,EAAsBmM,QAAtB,EAAgCjP,QAAhC,EAA0C,IAA1C;aADJ,MAEO;wBACK,+EAAR;;SAJR,MAMO;uBACQ,iEAAX;;KA5DqB;mBAAA,cAgEX,EAhEW;oBAAA,YAkEZ2P,SAlEY,EAkEDjG,SAlEC,EAkEU/O,OAlEV,EAkEmB;YACtCgI,OAAO,IAAb;YACI,KAAKE,UAAL,KAAoB,IAAxB,EAA8B;;;;YAI1B+M,cAAc,KAAlB;YACIvS,WAAWrF,WAAf;YACIwV,eAAe,IAAnB;;YAEImC,cAAcjG,SAAlB,EAA6B;0BACX,IAAd;;;YAGAkG,eAAejN,KAAKkN,yBAAxB,EAAmD;iBAC1CxF,gBAAL,GAAwB,IAAxB;iBACKwF,yBAAL,CAA+BnG,SAA/B,EAA0C/O,OAA1C;iBACK0P,gBAAL,GAAwB,KAAxB;;;YAGAyF,YAAYnN,KAAKyC,KAArB;YACI2K,YAAYpN,KAAK6H,oBAAL,CAA0Bd,SAA1B,EAAqC/O,OAArC,CAAhB;;aAEKmI,eAAL,GAAuB,IAAvB;;YAEI,CAACH,KAAK4M,mBAAV,EAA+B;gBACvB5M,KAAKqN,qBAAT,EAAgC;+BACbrN,KAAKqN,qBAAL,CAA2BtG,SAA3B,EAAsCqG,SAAtC,EAAiDpV,OAAjD,CAAf;aADJ,MAEO;oBACCgI,KAAKsN,qBAAT,EAAgC;mCACb,CAACxB,aAAakB,SAAb,EAAwBjG,SAAxB,CAAD,IAAuC,CAAC+E,aAAa9L,KAAKyC,KAAlB,EAAyB2K,SAAzB,CAAvD;;;;;YAKRvC,iBAAiB,KAArB,EAA4B;iBACnB+B,mBAAL,GAA2B,KAA3B;;gBAEI5M,KAAKuN,mBAAT,EAA8B;qBACrBV,iBAAL,GAAyB,IAAzB;qBACKU,mBAAL,CAAyBxG,SAAzB,EAAoCqG,SAApC,EAA+CpV,OAA/C;qBACK6U,iBAAL,GAAyB,KAAzB;;iBAEC7R,KAAL,GAAa+L,SAAb;iBACKtE,KAAL,GAAa2K,SAAb;iBACKpV,OAAL,GAAeA,OAAf;8BACkB6E,OAAlB,GAA4BmD,IAA5B;uBACWA,KAAKjK,MAAL,CAAYiK,KAAKhF,KAAjB,EAAwBgF,KAAKyC,KAA7B,EAAoCzC,KAAKhI,OAAzC,CAAX;8BACkB6E,OAAlB,GAA4B,IAA5B;;;aAGCsD,eAAL,GAAuB,KAAvB;;eAEOzF,QAAP;KAvHyB;wBAAA,YA0HRM,KA1HQ,EA0HDhD,OA1HC,EA0HQ;YAC7BgI,OAAO,IAAX;YACIwM,QAAQ,KAAK5E,kBAAjB;YACIzJ,UAAU,KAAK2O,oBAAnB;aACKA,oBAAL,GAA4B,KAA5B;aACKlF,kBAAL,GAA0B,IAA1B;;YAEI,CAAC4E,KAAL,EAAY;mBACDxM,KAAKyC,KAAZ;;;YAGAtE,WAAWqO,MAAM9V,MAAN,KAAiB,CAAhC,EAAmC;mBACxB8V,MAAM,CAAN,CAAP;;;YAGAY,YAAYnU,OAAO,EAAP,EAAWkF,UAAUqO,MAAM,CAAN,CAAV,GAAqBxM,KAAKyC,KAArC,CAAhB;aACK,IAAIxK,IAAIkG,UAAU,CAAV,GAAc,CAA3B,EAA8BlG,IAAIuU,MAAM9V,MAAxC,EAAgDuB,GAAhD,EAAqD;gBAC7CuV,UAAUhB,MAAMvU,CAAN,CAAd;mBACOmV,SAAP,EAAkB,OAAOI,OAAP,KAAmB,UAAnB,GAAgCA,QAAQhY,IAAR,CAAawK,IAAb,EAAmBoN,SAAnB,EAA8BpS,KAA9B,EAAqChD,OAArC,CAAhC,GAAgFwV,OAAlG;;;eAGGJ,SAAP;KA/IyB;4BAAA,cAiJF;YACjBV,YAAY,KAAKxE,iBAAvB;aACKA,iBAAL,GAAyB,IAAzB;YACIwE,SAAJ,EAAe;iBACN,IAAI1T,IAAI,CAAb,EAAgBA,IAAI0T,UAAUhW,MAA9B,EAAsCsC,GAAtC,EAA2C;oBACnCjB,KAAK2U,UAAU1T,CAAV,CAAT;oBACI,OAAOjB,EAAP,KAAc,UAAlB,EAA8B;uBACvBvC,IAAH,CAAQ,IAAR;;;;;CAxJpB;;AC3GO,SAASiY,WAAT,CAAqBC,IAArB,EAA2B;aACrBC,WAAT,CAAqB3S,KAArB,EAA4BhD,OAA5B,EAAqC;aAC5ByK,KAAL,GAAa,EAAb;aACK1E,IAAL,GAAY,EAAZ;aACK/C,KAAL,GAAaA,SAAS,EAAtB;aACKhD,OAAL,GAAeA,WAAW,EAA1B;;YAEI,KAAK4V,SAAT,EAAoB;iBACXA,SAAL,CAAe5S,KAAf,EAAsBhD,OAAtB;;;;YAIAwK,eAAe,KAAKqL,eAAL,GAAuB,KAAKA,eAAL,CAAqB,KAAK7S,KAA1B,EAAiC,KAAKhD,OAAtC,CAAvB,GAAwE,IAA3F;;YAEI,EAAEpB,SAAS4L,YAAT,KAA0B,CAAClN,QAAQkN,YAAR,CAA7B,CAAJ,EAAyD;gBACjDrJ,SAAJ,CAAc,kDAAd;;;aAGCsJ,KAAL,GAAaD,YAAb;;;aAGKmL,WAAT,EAAsBhB,cAAtB,EAAsCe,IAAtC;;gBAEY/Y,SAAZ,CAAsBkD,WAAtB,GAAoC8V,WAApC;;QAEID,KAAKI,eAAT,EAA0B;oBACVnR,YAAZ,GAA2B+Q,KAAKI,eAAL,EAA3B;;;QAGA,CAACJ,KAAK3X,MAAV,EAAkB;cACR,IAAIoD,SAAJ,CAAc,yEAAd,CAAN;;;WAGGwU,WAAP;;;ACrCW,SAASI,kBAAT,CAA4B/S,KAA5B,EAAmChD,OAAnC,EAA4C;SAClDyK,KAAL,GAAa,EAAb;SACK1E,IAAL,GAAY,EAAZ;SACK/C,KAAL,GAAaA,SAAS,EAAtB;SACKhD,OAAL,GAAeA,WAAW,EAA1B;;;AAGJ,SAASgW,cAAT,GAA0B;AAC1BA,eAAerZ,SAAf,GAA2BgY,eAAehY,SAA1C;AACAoZ,mBAAmBpZ,SAAnB,GAA+B,IAAIqZ,cAAJ,EAA/B;AACAD,mBAAmBpZ,SAAnB,CAA6BkD,WAA7B,GAA2CkW,kBAA3C;;AAEAA,mBAAmBpZ,SAAnB,CAA6B2Y,qBAA7B,GAAqD,IAArD;;ACqBA,IAAIW,QAAQ;YAAA;cAAA;sBAAA;cAAA;kBAAA;oBAAA;oBAAA;;CAAZ;;AAWA,IAAMC,WAAW;OAAA,YACTxY,GADS,EACJqC,EADI,EACAoW,GADA,EACK;YACV9X,cAAcX,GAAd,CAAJ,EAAwB;eACjBX,IAAIU,QAAQC,GAAR,CAAJ,EAAkBqC,EAAlB,EAAsBoW,GAAtB,CAAP;KAHS;WAAA,YAKLzY,GALK,EAKAqC,EALA,EAKIoW,GALJ,EAKS;YACd9X,cAAcX,GAAd,CAAJ,EAAwB;aACnBD,QAAQC,GAAR,CAAL,EAAmBqC,EAAnB,EAAuBoW,GAAvB;KAPS;SAAA,YASPzT,QATO,EASG;eACLjF,QAAQiF,QAAR,EAAkBhE,MAAzB;KAVS;QAAA,YAYRgE,QAZQ,EAYE;mBACAwT,SAASzY,OAAT,CAAiBiF,QAAjB,CAAX;YACIA,SAAShE,MAAT,KAAoB,CAAxB,EAA2B;kBAAQ,IAAIQ,KAAJ,CAAU,yCAAV,CAAN;;eACtBwD,SAAS,CAAT,CAAP;KAfS;;;CAAjB,CAoBA;;;;;;;;;;;;;;;;;;"}